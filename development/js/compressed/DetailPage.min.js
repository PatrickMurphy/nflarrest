var DEBUG=!1;class DetailPage{constructor(e,t,i,n){this.e=e,this.t=t,this.i=n,this.n=i,this.a=0,this.r,this.o=0,this.s=[];var a=this;mobileCheck()&&(this.a=1),loadCSS("css/modules/styles-detailpage.css"),$("body").l('<div id="loading-bar">Loading...</div>'),$("#loading-bar").c(),$(window).on("hashchange",function(){a.u()}),dateRangeController.d(function(e){a.h=e,DataController.d(a.h,function(e){a.r=e;var t=a.t.toLowerCase(),e={f:{},p:a.h};e.f[t]={},e.f[t][t]=a.e,a.g=new FiltersControl(e),$(a.g.w.v).on("FilterDialogChanged",function(){console.log("render view filter"),a.u()}),$("#dateRangeJquery").on("dateRangeChanged",function(e){a.u()}),setTimeout(()=>{a.C()},1500),a.u()})})}y(e,t){return e+".html#"+t}k(e){return this.y("Crime",e)}b(e){return this.y("Player",e)}D(e){return this.y("Team",e)}_(e){return this.y("Position",e)}$(e,t){t=t||this;document.S="NFL Arrest | "+e+" | List of Player Arrests",$("#pageTitle").x(t.t+": "+e)}u(){$("#loading-bar").c(),this.e=update_hash(this.e),this.$(),this.T(),this.F(),this.C()}C(){for(var e=0;e<this.s.length;e++)this.s[e].A.R()}M(){++this.o==1+this.n.length&&(this.o=0,$("#loading-bar").I(),setupFacebook(),setupTwitter())}F(){var a=this;a.r.P(function(e){if("Team"==a.t){if(e.j!=a.e)return!1}else if("Position"==a.t){if(e.z!=a.e)return!1}else if("Player"==a.t){if(e.L!=a.e)return!1}else if("Crime"==a.t&&e.B!=a.e)return!1;return!0},function(e){var t,i,n=[];for(i in $("body > div.container > section > div > h4").x(e.length+" Incidents:"),0==a.a&&n.push(a.q()),e)t=e[i],0==a.a?n.push(a.O(t)):1==a.a&&n.push(a.U(t));$("#arrest_table").x(n.join("")),a.M()})}q(){return'<tr><th class="one column">Date:</th><th class="one column">Team:</th><th class="two columns">Name:</th><th class="one column">Crime:</th><th class="four columns">Description:</th><th class="three columns">Outcome:</th></tr>'}O(e){var t="<tr>";return t+='<td class="one column">'+moment(e.V,"YYYY-MM-DD").Y()+"</td>",t+='<td class="one column">'+e.j+"</td>",t+='<td class="two columns"><a href="Player.html#'+e.L+'">'+e.L+"</a></td>",t+='<td class="one column"><a href="Crime.html#'+e.B+'">'+e.B+"</a></td>",t+='<td class="four columns">'+e.J+"</td>",t+='<td class="three columns">'+e.N+"</td>",t+="</tr>"}U(e){return new ArrestCard(e).G()}Q(e,r,o,s){var l=this;l.r.H(r,function(e){if("Team"==l.t){if(e.j!=l.e)return!1}else if("Position"==l.t){if(e.z!=l.e)return!1}else if("Player"==l.t){if(e.L!=l.e)return!1}else if("Crime"==l.t&&e.B!=l.e)return!1;return!0},function(e){var t,i=[],n=0,a=["Other",0];for(t in e)++n<12?i.push([e[t][r],e[t].K]):a[1]=parseInt(a[1])+parseInt(e[t].K);i.push(a),l.M(),s(i,o)})}T(){var e,i=this;for(e in i.n){var t=i.n[e];i.Q(t.W+i.e,t.X,e,function(e,t){i.s.push(new DonutChart({Z:e,ee:i.n[t].ee,te:i.n[t].S}))})}}}class FiltersModel{constructor(){this.ie={ne:{name:"dateRangeController",ae:["start_date","end_date"],re:"NFLArrest",oe:"The NFL Date Range Controller Module, contains two values",se:["2000-01-01",dateRangeController.le()],ce:function(e,t){var i=[];return i.push(e.h.me),i.push(e.h.ue),i},de:function(e,t){var i=e.h.me!=t.he.se[0],t=e.h.ue!=t.he.se[1];return i||t}},fe:{name:"select",re:"Chosen",oe:"multi select field for filters, contains an array of values",se:null,ce:function(e,t){return $(t.ge).pe()},de:function(e,t){return $(t.ge).pe()!=t.he.se}},ve:{name:"checkbox-group",re:"JQuery-UI",oe:"a group of binary options",se:"all",ce:function(e,t){var i=[];return $(t.ge).map(function(e,t){$(t).we("checked")?i.push("0"):i.push("1")}),i.join("")},de:function(e,t){var i=0;return $(t.ge).map(function(e,t){$(t).we("checked")||i++}),0<i}},Ce:{name:"checkbox",re:"JQuery-UI",oe:"a single binary option",se:!1,ce:function(e,t){return $(t.ge).we("checked")},de:function(e,t){return $(t.ge).we("checked")!=t.he.se}}},this.ye={ke:{ge:"#filter-daterange-input",he:this.ie.ne,name:["start_date","end_date"]},be:{ge:"#filter-month-input",he:this.ie.fe,name:"month[]"},De:{ge:"#filter-dayofweek-input-mon, #filter-dayofweek-input-tues, #filter-dayofweek-input-wed, #filter-dayofweek-input-thur, #filter-dayofweek-input-fri, #filter-dayofweek-input-sat, #filter-dayofweek-input-sun",he:this.ie.ve,name:"dayofweek"},_e:{ge:"#filter-yeartodate-input",he:this.ie.Ce,name:"yeartodate"},$e:{ge:"#filter-season-input",he:this.ie.fe,name:"season[]"},Se:{ge:"#filter-seasonStatusOn-input, #filter-seasonStatusOff-input",he:this.ie.ve,name:"season_status"},xe:{ge:"#filter-team-input",he:this.ie.fe,name:"team[]"},Te:{ge:"#filter-conference-AFC-input, #filter-conference-NFC-input",he:this.ie.ve,name:"conference"},Fe:{ge:"#filter-division-input",he:this.ie.fe,name:"division[]"},Re:{ge:"#filter-crime-category-input",he:this.ie.fe,name:"crimeCategory[]"},Ee:{ge:"#filter-crime-input",he:this.ie.fe,name:"crime[]"},Ae:{ge:"#filter-position-input",he:this.ie.fe,name:"position[]"},Me:{ge:"#filter-position-type-input-o, #filter-position-type-input-d, #filter-position-type-input-s",he:this.ie.ve,name:"position_type"},Ie:{ge:"#filter-player-input",he:this.ie.fe,name:"player[]"}},this.Pe={je:{S:"Date Filters",ge:"#filter-date-section",ze:[this.ye.ke,this.ye.be,this.ye.De,this.ye._e]},$e:{S:"Season Filters",ge:"#filter-season-section",ze:[this.ye.$e,this.ye.Se]},xe:{S:"Team Filters",ge:"#filter-team-section",ze:[this.ye.xe,this.ye.Te,this.ye.Fe]},Ee:{S:"Crime Filters",ge:"#filter-crime-section",ze:[this.ye.Re,this.ye.Ee]},Ae:{S:"Position Filters",ge:"#filter-position-section",ze:[this.ye.Ae,this.ye.Me]},Ie:{S:"Player Filters",ge:"#filter-player-section",ze:[this.ye.Ie]}}}}class FiltersControl{constructor(e){this.w=e||{},this.w.Le=e.Le||[],this.w.f=e.f||{},this.w.p=e.p||{},this.w.Be=e.Be||"#filter-dialog-container",this.w.v=e.v||"#filter-dialog",this.w.qe=e.qe||"templates/FiltersTemplateCache.html",this.Oe=new FiltersModel,this.h=this.w.p,this.Ue=!0;var t=this;$("#filters-open-button").Ye(function(){t.Ve()}),$("#filter-dialog-container").Ye(function(e){"filter-dialog-container"==e.Ne.Je&&t.Ge()}),this.Ge()}on(e,t){e&t&&$(self.w.v).on(e,t)}Ve(){$(this.w.Be).Ve(),this.Ue&&(this.Qe(),this.Ue=!1)}Ge(){$(this.w.Be).Ge()}Qe(){var e=this;loadCSS("css/modules/styles-filters.css"),loadCSS("css/vendor/chosen.min.css"),$(e.w.Be).He(e.w.qe,function(){console.log("Load was performed."),e.Ke(),e.u()})}We(){for(var e in this.w.f){var t,i=this.w.f[e];for(t in i){i[t];switch(t){case"team":case"crime":case"position":case"player":this.w.Le.push(t);break;default:console.log("unknown preset")}}}}Xe(e){$(".filter-chosen-multi").et({tt:!0,it:!1}).Ze(e),$(".filter-radio-group input").nt({at:!1}).Ze(e),$("#dateRangeJquery").on("dateRangeChanged",e),$(".filter-type-btn").Ye(function(){$(this).rt("filter-include filter-exclude"),"Exclude"===$(this).x()?($(this).x("Include"),$(this).ot("filter-include")):($(this).x("Exclude"),$(this).ot("filter-exclude"))})}st(){var e=this;$(".filter-section-title").Ye(function(){$(this).ut().mt().ct(1).lt()}),$("#filters-close-button").Ye(function(){$(e.w.v).dt("FilterDialogClosed"),e.Ge()}),$("#filters-apply-button").Ye(function(){e.apply(),console.log(e.w.v),$(e.w.v).dt("FilterDialogChanged"),$(window).dt("hashchange"),e.Ge()}),$("#filters-clear-button").Ye(function(){e.ht(),$(e.w.v).dt("FilterDialogReset")}),$("#filters-cancel-button").Ye(function(){e.Ge()})}apply(){var e,t=this.ft();for(e in t)for(var i in t[e])setCookieValue(i,t[e][i])}ht(){for(var e in this.Oe.Pe)if(this.Oe.Pe.hasOwnProperty(e)){var t,i=this.Oe.Pe[e].ze;for(t in i)if(i.hasOwnProperty(t)){var n=i[t];if(Array.isArray(n.he.se)&&n.he.hasOwnProperty("ae")){var a,r=0;for(a in n.he.se)setCookieValue(n.he.ae[r],n.he.se[r++])}else setCookieValue(t,n.he.se)}}this.Qe()}pt(e,t,i){var n=t.vt.gt("id"),a=n.substring(n.indexOf("-")+1,n.length),t=a.substring(0,a.lastIndexOf("-"));console.log(n,a,t),e.u()}Ke(){var i=this;this.We(),this.st(),this.Xe(function(e,t){i.pt(i,e,t)})}u(){var e,t=this;for(e in this.wt(),t.w.Le)switch(t.w.Le[e]){case"team":case"crime":case"position":case"player":$(t.Oe.Pe[t.w.Le[e]].ge).Ge()}$("#filter-daterange-input").x(t.h.Ct()+"-"+t.h.yt()),$("#filter-date-section .filter-section-title span").x(this.Oe.Pe.je.kt+"/4"),$("#filter-season-section .filter-section-title span").x(this.Oe.Pe.$e.kt+"/2"),$("#filter-team-section .filter-section-title span").x(this.Oe.Pe.xe.kt+"/3"),$("#filter-crime-section .filter-section-title span").x(this.Oe.Pe.Ee.kt+"/2"),$("#filter-position-section .filter-section-title span").x(this.Oe.Pe.Ae.kt+"/2"),$("#filter-player-section .filter-section-title span").x(this.Oe.Pe.Ie.kt+"/1")}wt(){for(var e in this.Oe.Pe)if(this.Oe.Pe.hasOwnProperty(e)){var t,i,n,a=this.Oe.Pe[e];for(t in a.kt=0,a.ze)a.ze.hasOwnProperty(t)&&(n=(i=a.ze[t]).he.de(this,i),(i.bt=n)&&a.kt++)}}ft(){var e,t={};for(e in this.Oe.Pe)if(this.Oe.Pe.hasOwnProperty(e)){var i,n=this.Oe.Pe[e].ze;for(i in n)if(n.hasOwnProperty(i)){var a=n[i],r=a.name,o=a.he.ce(this,a);if(a.bt)if(t.hasOwnProperty(e)||(t[e]={}),Array.isArray(o)&&a.he.hasOwnProperty("ae")){var s,l=0;for(s in o)t[e][a.he.ae[l++]]=o[s]}else t[e][r]=o}}return t}Dt(){var e,t=this.ft(),i=[];for(e in t=Object.assign(t,this.w.f))for(var n in t[e])if(Array.isArray(t[e][n]))for(var a in t[e][n])i.push(n+"="+t[e][n][a]);else i.push(n+"="+t[e][n]);return i.join("&")}}class DonutChart{constructor(e){this.A=void 0,this.w={ee:"#theElementSelector",te:"default",Z:{}},$._t(!0,this.w,e),this.w.$t=$(this.w.ee),this.St()}St(){this.A=c3.xt({Tt:this.w.ee,Z:{Ft:this.w.Z,he:"donut"},Rt:{S:this.w.te},Et:{At:["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF","#154F78","#B0580A","#248224","#7D1717"]}})}}var lastUpdate="12/20/2021, 11:28:56 PM";class ArrestCard{constructor(e,t){if(this.Mt=e,this.w=t||{It:!1,Pt:!1,jt:!1},this.zt={Lt:"Team",Et:"Team_hex_color",W:"Team.html",Bt:"Team_preffered_name",qt:"Team_hex_alt_color",Ot:!0},this.Ut={Lt:"Category",Et:"Crime_category_color",W:"Crime.html",Bt:"Category"},this.Yt={Lt:"Name",Et:"Team_hex_color",W:"Player.html",Bt:"Name",qt:"Team_hex_alt_color",Ot:!0},this.Vt={Lt:"Position",Et:"Team_hex_color",W:"Position.html",Bt:"Position",qt:"Team_hex_alt_color",Ot:!0},!this.Mt.hasOwnProperty("Jt"))throw"error: incorrect row definition"}G(e,t){var e=e||{Lt:"Category",Et:"Crime_category_color",W:"Crime.html",Bt:"Category"},t=t||{Lt:"Team",Et:"Team_hex_color",W:"Team.html",Bt:"Team_preffered_name",qt:"Team_hex_alt_color",Ot:!0},i=this.w.It?' style="display:inline-block; visibility:visible;"':"",n=this.w.Pt?moment(row.V,"YYYY-MM-DD").Y():this.Mt.Nt+" days ago",a=['<div class="card arrest_card '+(this.w.jt?" standalone_card":"")+'">'];return a.push('<span class="date_item" title="'+this.Mt.V+'">'+n+"</span>"),a.push('<span class="name_item"'+i+'><a href="Player.html#'+this.Mt.L+'">'+this.Mt.L+"</a> </span>"),a.push("<br />"),a.push('<span class="crime_item" style="background-color:#'+this.Mt[e.Et]+'">'),a.push('<a href="'+e.W+"#"+this.Mt[e.Lt]+'">'+this.Mt[e.Bt]+"</a> </span>"),a.push('<span class="team_item '+this.Mt[t.Lt]+'" style="background-color:#'+this.Mt[t.Et]+';">'),a.push('<a href="'+t.W+"#"+this.Mt[t.Lt]+'" '+(t.Ot?'style="color:#'+this.Mt[t.qt]+';"':"")+" >"+this.Mt[t.Bt]+"</a></span>"),a.push("<br />"),a.push('<span class="description_item">'+this.Mt.J+"</span>"),a.push('<span class="outcome_item">'+this.Mt.N+"</span>"),a.push("</div>"),a.join("")}}var meter_use_current_day=!0,DataController={w:{Gt:void 0,Z:void 0},d:function(e,t){DataController.w.Qt=e,DataController.w.Z=ArrestsCacheTable;function i(e,t){return e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),t=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()),Math.floor((t-e)/864e5)}DataController.forEach(function(e,t){meter_use_current_day&&(DataController.w.Z[t].Ht=i(new Date(e.V),new Date),e.Ht=i(new Date(e.V),new Date))}),DataController.w.Z.sort(function(e,t){return e.Ht<t.Ht?1:e.Ht>t.Ht?-1:0}),t(this)},forEach:function(e,t,i){t=t||function(){},i=i||!0;for(var n=DataController.w.Z.length-1;0<=n;n--){var a=DataController.w.Z[n];(!i||this.Kt(a,DataController.w.Qt.Ct(),DataController.w.Qt.yt()))&&e(a,n)}t()},Wt:function(e,t){return e.hasOwnProperty(t)?e[t]=e[t]+1:e[t]=1,e},Kt:function(e,t,i){return new Date(e.V)>=new Date(t)&&new Date(e.V)<=new Date(i)},Xt:function(e){e(["no data"])},Zt:function(e){var t,i=DataController,n=999999999;i.forEach(function(e){i.Kt(e,DataController.w.Qt.Ct(),DataController.w.Qt.yt())&&e.Ht<n&&(n=(t=e).Ht)},function(){e(t)})},ei:function(e){for(var t=[],i=[],n=new Map,a=DataController.w.Z.length-1;0<=a;a--){var r=DataController.w.Z[a];t.push({j:r.j,Jt:r.Jt,ti:r.ti})}for(a=t.length-1;0<=a;a--){var o=t[a];n.ii(o.j)||(n.ni(o.j,!0),i.push(o))}e(i)},ai:function(e){var i=0,n=-1,a=0,r=9e9;DataController.forEach(function(e,t){a++,i+=e.ri,e.ri>n&&(n=e.ri),e.Nt<r&&(r=e.Nt)}),i/=a,e({oi:{si:Math.floor(n),li:Math.floor(i),ci:Math.floor(i)},mi:{Ht:Math.floor(r),ui:Math.exp(-1*r)/i,di:Math.floor(1/Math.exp(-1*r/i))}})},H:function(i,e,t){for(var n={},a=[],r=DataController.w.Z.length-1;0<=r;r--){var o=DataController.w.Z[r];e(o)&&this.Kt(o,DataController.w.Qt.Ct(),DataController.w.Qt.yt())&&(n=this.Wt(n,o[i]))}Object.keys(n).forEach(function(e){var t={};t[i]=e,t.K=n[e],a.push(t)}),t(a.sort(function(e,t){return t.K-e.K}))},hi:function(e,t,i,n,a){for(var r={fi:"Year",pi:"Month",gi:"Day_of_Week",vi:"Day_of_Week_int",j:"Team_preffered_name",wi:"Team",Ci:"Team_Conference",yi:"Team_Conference_Division",z:"Position",ki:"Crime_category",bi:"Season",Di:"ArrestSeasonState",_i:"arrest_count"},o=r[t],s=r[e],i=r[i],n=n,l={},c={},m={},u=DataController.w.Z.length-1;0<=u;u--){var d=DataController.w.Z[u];this.Kt(d,DataController.w.Qt.Ct(),DataController.w.Qt.yt())&&(l=this.Wt(l,d[o]+d[s]),c=this.Wt(c,d[o]),m=this.Wt(m,d[s]))}var h=[];Object.keys(c).forEach(function(e){h.push({$i:e,K:c[e]})}),"DESC"==n&&i==o&&h.sort(function(e,t){return t.K-e.K});var f=[];Object.keys(m).forEach(function(e){f.push(e)});var p=["x"];h.forEach(function(e){p.push(e.$i)});var g=[];g.push(p),Object.keys(m).forEach(function(t){var i=[t];h.forEach(function(e){e=e.$i,e=l[e+t];i.push(e=null==e?0:e)}),g.push(i)}),a({Ft:g,Si:f})},xi:function(e,t,i,n){for(var a=[],r={},o={},s={},l=[],c=[],m=[],u=DataController.w.Z.length-1;0<=u;u--){var d=DataController.w.Z[u];this.Kt(d,DataController.w.Qt.Ct(),DataController.w.Qt.yt())&&(r=this.Wt(r,d.B),o=this.Wt(o,d.L),s=this.Wt(s,d.z))}Object.keys(r).forEach(function(e){var t={};t.B=e,t.K=r[e],l.push(t)}),Object.keys(o).forEach(function(e){var t={};t.L=e,t.K=o[e],c.push(t)}),Object.keys(s).forEach(function(e){var t={};t.z=e,t.K=s[e],m.push(t)});function h(e,t){return t.K-e.K}a.push(l.sort(h).slice(e,e+5)),a.push(c.sort(h).slice(e,e+5)),a.push(m.sort(h).slice(e,e+5)),n(a)},P:function(t,e){var i=[],n=this;n.forEach(function(e){n.Kt(e,DataController.w.Qt.Ct(),DataController.w.Qt.yt())&&t(e)&&i.push(e)},function(){e(i)})}};function setCookieValue(e,t,i){var n=new Date;i=i||.5,n.setTime(n.getTime()+24*i*60*60*1e3);n="expires="+n.toUTCString();document.Ti=e+"="+t+"; "+n}function getCookieValue(e){for(var t=e+"=",i=document.Ti.split(";"),n=0;n<i.length;n++){for(var a=i[n];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""}function gaEvent(e,t,i,n,a){googleTracking.Fi(i,n)}function setupFacebook(){var e,t,i;console.log("FB Setup"),window.Ri=function(){FB.d({Ei:"563956043742586",Ai:!0,Mi:"v2.4"}),FB.Pi.Ii("edge.create",function(e){gaEvent("send","social","facebook","like",e)}),FB.Pi.Ii("edge.remove",function(e){gaEvent("send","social","facebook","unlike",e)}),FB.Pi.Ii("message.send",function(e){gaEvent("send","social","facebook","send",e)})},e=document,t="facebook-jssdk",i=e.ji("script")[0],e.zi(t)||((e=e.Li("script")).Je=t,e.Bi="//connect.facebook.net/en_US/sdk.js",i.Oi.qi(e,i))}function setupTwitter(){var e,t,i,n;console.log("twitter setup"),window.Ui=(e=document,t="twitter-wjs",i=e.ji("script")[0],n=window.Ui||{},e.zi(t)||((e=e.Li("script")).Je=t,e.Bi="https://platform.twitter.com/widgets.js",i.Oi.qi(e,i),n._e=[],n.Vi=function(e){n._e.push(e)}),n),twttr.Vi(function(e){e.Ji.bind("tweet",function(e){var t;e&&(t=window.Gi.Ni,gaEvent("send","social","twitter","tweet",t=e.Ne&&"IFRAME"==e.Ne.Qi?extractParamFromUri(e.Ne.Bi,"url"):t),console.log("thanks for sharing",t))})})}function update_hash(){var e=window.Gi.Hi.split("/");return pageID=window.Gi.Ki||extractParamFromUri(window.Gi.search,"id")||e.pop()||e.pop()||"#!ID Not Set",pageID=decodeURI(pageID),pageID=pageID.replace("#!",""),pageID=pageID.replace("#",""),$("#pageTitle").l(pageID),pageID}function extractParamFromUri(e,t){if(!e)return null;e=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);return null!=e?decodeURI(unescape(e[1])):null}function saveCanvasAsPNG(e){e=document.zi(e).Wi("image/png").replace("image/png","image/octet-stream");window.Gi.Ni=e}window.Xi=function(){var e,t=!1;return e=navigator.Zi||navigator.en||window.tn,t=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))?!0:t};var timeSeriesChart={in:void 0,w:{ee:"#theElementSelector",nn:"#btnSelector",an:"",Z:{},rn:!(window.on=function(){var e,t=!1;return e=navigator.Zi||navigator.en||window.tn,t=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))?!0:t}),sn:!1,ln:"/api/"},d:function(e){$._t(!0,this.w,e);var t=this;console.log("Initialize Chart:  "+this.w.ee),t.w.$t=$(this.w.ee),t.w.cn=$(this.w.mn),timeSeriesChart.w.cn.un("click"),timeSeriesChart.w.cn.Ye(function(){t.dn(t)}),t.St()},St:function(){var e;e=$(document).hn()<800?20:6,timeSeriesChart.in=c3.xt({Tt:timeSeriesChart.w.ee,Z:{x:"x",Ft:[timeSeriesChart.pn(),timeSeriesChart.gn(timeSeriesChart.w.an,timeSeriesChart.w.Z)]},vn:{x:{he:"timeseries",wn:{Cn:"%m/%y"}}},yn:{kn:e},Et:{At:["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF","#154F78","#B0580A","#248224","#7D1717"]}})},bn:function(e,t){t=t||{};var i,n,a={Je:e,me:dateRangeController.Ct(),ue:dateRangeController.yt()};for(n in $._t(a,t),i=timeSeriesChart.w.ln.indexOf("?")<0?"?":"&",a)i+=n+"="+a[n]+"&";return i=i.substring(0,i.length-1),timeSeriesChart.w.ln+i},Dn:function(t){googleTracking.Fi("TimeChart","addCompare "+t);var e=timeSeriesChart.bn(t);$._n(e,function(e){e=timeSeriesChart.gn(t,e);e[0];timeSeriesChart.in.He({Ft:[e]})})},gn:function(e,t){e=e||"",t=(t=t||[]).reverse();for(var i,n=new Date(dateRangeController.Ct()),a=new Date(dateRangeController.yt()),a=12*(a.getFullYear()-n.getFullYear())+(a.getMonth()-n.getMonth())+1,r=n.getFullYear(),o=n.getMonth()+1,s=[e.toString()],l=0,c=t.pop(),m=a;0<m;m--)void 0!==c?(12<++o&&(r++,o%=12),c.fi==r.toString()&&c.pi==o.toString()?(i=timeSeriesChart.w.sn?l+=parseInt(c.K):parseInt(c.K),s.push(i),0<t.length&&(c=t.pop())):(i=timeSeriesChart.w.sn?l:0,s.push(i))):s.push(0);return s},pn:function(){for(var e=["x"],t=new Date(dateRangeController.Ct()),i=new Date(dateRangeController.yt()),i=12*(i.getFullYear()-t.getFullYear())+(i.getMonth()-t.getMonth())+1,n=t.getFullYear(),a=t.getMonth()+1,r=i-1;0<r;r--)12<++a&&(n++,a%=12),e.push(n+"-"+(a<10?"0"+a:a)+"-01");return e},dn:function(e){timeSeriesChart.w.$t.$n("expanded"),timeSeriesChart.w.rn=!timeSeriesChart.w.rn,timeSeriesChart.w.rn?timeSeriesChart.w.cn.x("Collapse"):timeSeriesChart.w.cn.x("Expand"),googleTracking.Fi("mainChart","expand toggle"),timeSeriesChart.St()}},dateRangeController={me:"2000-01-01",ue:"",d:function(e){$("#dateRangeJquery").Sn({xn:[{Tn:"Last 3 Months",Fn:function(){return moment().Rn("months",3)},En:function(){return moment()}},{Tn:"Last 6 Months",Fn:function(){return moment().Rn("months",6)},En:function(){return moment()}},{Tn:"Last Year",Fn:function(){return moment().Rn("years",1)},En:function(){return moment()}},{Tn:"Last 5 Years",Fn:function(){return moment().Rn("years",5)},En:function(){return moment()}},{Tn:"All Records",Fn:function(){return moment("2000-01-01")},En:function(){return moment()}}],An:{Mn:new Date("2000-01-01"),In:0}});var t=moment().Cn("YYYY-MM-DD");this.me=this.Pn("start_date")||"2000-01-01",this.ue=this.Pn("end_date")||t,$("#dateRangeJquery").Sn("setRange",{jn:moment(this.me).zn(),Ln:moment(this.ue).zn()}),$("#dateRangeJquery").on("change",this.Bn),$("#dateRangeJquery").on("open",function(){googleTracking.Fi("DateRange","OpenDialog")}),e(this)},qn:function(){$("#dateRangeJquery").Sn("open")},On:function(){$("#dateRangeJquery").Sn("close")},Un:function(e){googleTracking.Fi("DateRange","Reset");var t=dateRangeController.le();dateRangeController.Yn("2000-01-01",t)},le:function(){var e=new Date,t=e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1,i=e.getDate()<10?"0"+e.getDate():e.getDate();return e.getFullYear()+"-"+t+"-"+i},Ct:function(){return this.me},yt:function(){return this.ue},Bn:function(){var e=JSON.parse($("#dateRangeJquery").pe());console.log(e);var t=e.jn,i=e.Ln;new Date(t)>new Date(i)&&(e=t,t=i,i=e),dateRangeController.Yn(t,i)},Yn:function(e,t){dateRangeController.Vn("start_date",e),dateRangeController.Vn("end_date",t),dateRangeController.me=e,dateRangeController.ue=t,window.Jn&&(new Event("dateRangeChanged"),$("#dateRangeJquery").dt("dateRangeChanged"),googleTracking.Fi("DateRange","DateChanged"))},Vn:function(e,t,i){return setCookieValue(e,t,i)},Pn:function(e){return getCookieValue(e)}},hashervar=window.Gi.Ki||"",pagePath=window.Gi.Hi+hashervar,googleTracking={Nn:void 0,Gn:function(e){googleTracking.Nn=e},Fi:function(e,t){arguments.length<3&&ga("send","event",e,t)}};!function(e,t,i,n,a){e.Qn=i,e.Hn=e.Hn||function(){(e.Hn.q=e.Hn.q||[]).push(arguments)},e.Hn.l=+new Date,n=t.Li("script"),a=t.ji("script")[0],n.Xn=1,n.Bi="//www.google-analytics.com/analytics.js",a.Oi.qi(n,a)}(window,document,"ga"),ga("create","UA-66360026-1","auto"),ga("send","pageview",pagePath),googleTracking.Gn(ga),$(document).Vi(function(){$(".donate").Ye(function(){googleTracking.Fi("Donate","Click")})});class StyleSheetManager{constructor(){this.Zn=["css/styles.min.css","css/vendor/normalize.min.css","css/vendor/skeleton.min.css","css/vendor/c3.css","css/vendor/jquery-ui.min.css","css/vendor/jquery.comiseo.daterangepicker.css"],this.ea()}ta(e){var t,i;return t=document,i=t.Li("LINK"),t=t.ji("LINK")[0],i.Ni=e,i.ia="stylesheet",t.Oi.qi(i,t),!0}ea(e){for(var t=e||this.Zn||[],i=!0,n=0;n<t.length;n++)i=this.ta(t[n]),DEBUG&&console.log(t[n]+" Loaded");return i}}var StyleSheetManagerInstance=new StyleSheetManager;function loadCSS(e){DEBUG&&console.na("Deprecated loadCSS("+e+") function called!"),StyleSheetManagerInstance.ta(e)}
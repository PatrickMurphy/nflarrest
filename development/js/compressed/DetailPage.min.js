(function(){

var o,i,r,a,s=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function i(){this.constructor=e}for(var s in t)l.call(t,s)&&(e[s]=t[s]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},l={}.hasOwnProperty;(a=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,i,s,r,n,a;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:e.label,title:e.title?e.title:void 0,children:0,disabled:e.disabled,classes:e.className}),a=[],i=0,s=(n=e.childNodes).length;i<s;i++)r=n[i],a.push(this.add_option(r,t,e.disabled));return a},e.prototype.add_option=function(e,t,i){if("OPTION"===e.nodeName.toUpperCase())return""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,title:e.title?e.title:void 0,selected:e.selected,disabled:!0===i?i:e.disabled,group_array_index:t,group_label:null!=t?this.parsed[t].label:null,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},e}()).select_to_array=function(e){var t,i,s,r,n;for(r=new a,i=0,s=(n=e.childNodes).length;i<s;i++)t=n[i],r.add_node(t);return r.parsed},i=function(){function i(e,t){this.form_field=e,this.options=null!=t?t:{},this.label_click_handler=s(this.label_click_handler,this),i.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return i.prototype.set_default_values=function(){return this.click_test_action=function(t){return function(e){return t.test_active_click(e)}}(this),this.activate_action=function(t){return function(e){return t.activate_field(e)}}(this),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className),this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||Infinity,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1,this.hide_results_on_select=null==this.options.hide_results_on_select||this.options.hide_results_on_select},i.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||i.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||i.default_single_text,this.default_text=this.escape_html(this.default_text),this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||i.default_no_result_text},i.prototype.choice_label=function(e){return this.include_group_label_in_selected&&null!=e.group_label?"<b class='group-name'>"+e.group_label+"</b>"+e.html:e.html},i.prototype.mouse_enter=function(){return this.mouse_on_container=!0},i.prototype.mouse_leave=function(){return this.mouse_on_container=!1},i.prototype.input_focus=function(e){if(this.is_multiple){if(!this.active_field)return setTimeout(function(e){return function(){return e.container_mousedown()}}(this),50)}else if(!this.active_field)return this.activate_field()},i.prototype.input_blur=function(e){if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(e){return function(){return e.blur_test()}}(this),100)},i.prototype.label_click_handler=function(e){return this.is_multiple?this.container_mousedown(e):this.activate_field()},i.prototype.results_option_build=function(e){var t,i,s,r,n,a,o;for(t="",o=0,r=0,n=(a=this.results_data).length;r<n&&(i=a[r],s="",""!==(s=i.group?this.result_add_group(i):this.result_add_option(i))&&(o++,t+=s),(null!=e?e.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(i))),!(o>=this.max_shown_results));r++);return t},i.prototype.result_add_option=function(e){var t,i;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),i=document.createElement("li"),i.className=t.join(" "),e.style&&(i.style.cssText=e.style),i.setAttribute("data-option-array-index",e.array_index),i.innerHTML=e.highlighted_html||e.html,e.title&&(i.title=e.title),this.outerHTML(i)):""},i.prototype.result_add_group=function(e){var t,i;return(e.search_match||e.group_match)&&e.active_options>0?((t=[]).push("group-result"),e.classes&&t.push(e.classes),i=document.createElement("li"),i.className=t.join(" "),i.innerHTML=e.highlighted_html||this.escape_html(e.label),e.title&&(i.title=e.title),this.outerHTML(i)):""},i.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},i.prototype.reset_single_select_options=function(){var e,t,i,s,r;for(r=[],e=0,t=(i=this.results_data).length;e<t;e++)(s=i[e]).selected?r.push(s.selected=!1):r.push(void 0);return r},i.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},i.prototype.results_search=function(e){return this.results_showing?this.winnow_results():this.results_show()},i.prototype.winnow_results=function(e){var t,i,s,r,n,a,o,l,_,c,h,u,d,L,A;for(this.no_results_clear(),c=0,t=(o=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),_=this.get_search_regex(t),s=0,r=(l=this.results_data).length;s<r;s++)(n=l[s]).search_match=!1,h=null,u=null,n.highlighted_html="",this.include_option_in_results(n)&&(n.group&&(n.group_match=!1,n.active_options=0),null!=n.group_array_index&&this.results_data[n.group_array_index]&&(0===(h=this.results_data[n.group_array_index]).active_options&&h.search_match&&(c+=1),h.active_options+=1),A=n.group?n.label:n.text,n.group&&!this.group_search||(u=this.search_string_match(A,_),n.search_match=null!=u,n.search_match&&!n.group&&(c+=1),n.search_match?(o.length&&(d=u.index,a=A.slice(0,d),i=A.slice(d,d+o.length),L=A.slice(d+o.length),n.highlighted_html=this.escape_html(a)+"<em>"+this.escape_html(i)+"</em>"+this.escape_html(L)),null!=h&&(h.group_match=!0)):null!=n.group_array_index&&this.results_data[n.group_array_index].search_match&&(n.search_match=!0)));return this.result_clear_highlight(),c<1&&o.length?(this.update_results_content(""),this.no_results(o)):(this.update_results_content(this.results_option_build()),(null!=e?e.skip_highlight:void 0)?void 0:this.winnow_results_set_highlight())},i.prototype.get_search_regex=function(e){var t,i;return i=this.search_contains?e:"(^|\\s|\\b)"+e+"[^\\s]*",this.enable_split_word_search||this.search_contains||(i="^"+i),t=this.case_sensitive_search?"":"i",new RegExp(i,t)},i.prototype.search_string_match=function(e,t){var i;return i=t.exec(e),!this.search_contains&&(null!=i?i[1]:void 0)&&(i.index+=1),i},i.prototype.choices_count=function(){var e,t,i;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,e=0,t=(i=this.form_field.options).length;e<t;e++)i[e].selected&&(this.selected_option_count+=1);return this.selected_option_count},i.prototype.choices_click=function(e){if(e.preventDefault(),this.activate_field(),!this.results_showing&&!this.is_disabled)return this.results_show()},i.prototype.keydown_checker=function(e){var t,i;switch(i=null!=(t=e.which)?t:e.keyCode,this.search_field_scale(),8!==i&&this.pending_backstroke&&this.clear_backstroke(),i){case 8:this.backstroke_length=this.get_search_field_value().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:case 27:this.results_showing&&e.preventDefault();break;case 32:this.disable_search&&e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},i.prototype.keyup_checker=function(e){var t,i;switch(i=null!=(t=e.which)?t:e.keyCode,this.search_field_scale(),i){case 8:this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0?this.keydown_backstroke():this.pending_backstroke||(this.result_clear_highlight(),this.results_search());break;case 13:e.preventDefault(),this.results_showing&&this.result_select(e);break;case 27:this.results_showing&&this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search()}},i.prototype.clipboard_event_checker=function(e){if(!this.is_disabled)return setTimeout(function(e){return function(){return e.results_search()}}(this),50)},i.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},i.prototype.include_option_in_results=function(e){return!(this.is_multiple&&!this.display_selected_options&&e.selected)&&(!(!this.display_disabled_options&&e.disabled)&&!e.empty)},i.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},i.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},i.prototype.search_results_touchend=function(e){if(this.touch_started)return this.search_results_mouseup(e)},i.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:((t=document.createElement("div")).appendChild(e),t.innerHTML)},i.prototype.get_single_html=function(){return'<a class="chosen-single chosen-default">\n  <input class="chosen-focus-input" type="text" autocomplete="off" />\n  <span>'+this.default_text+'</span>\n  <div><b></b></div>\n</a>\n<div class="chosen-drop">\n  <div class="chosen-search">\n    <input class="chosen-search-input" type="text" autocomplete="off" />\n  </div>\n  <ul class="chosen-results"></ul>\n</div>'},i.prototype.get_multi_html=function(){return'<ul class="chosen-choices">\n  <li class="search-field">\n    <input class="chosen-search-input" type="text" autocomplete="off" value="'+this.default_text+'" />\n  </li>\n</ul>\n<div class="chosen-drop">\n  <ul class="chosen-results"></ul>\n</div>'},i.prototype.get_no_results_html=function(e){return'<li class="no-results">\n  '+this.results_none_found+" <span>"+this.escape_html(e)+"</span>\n</li>"},i.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},i.default_multiple_text="Select Some Options",i.default_single_text="Select an Option",i.default_no_result_text="No results match",i}(),(o=jQuery).fn.extend({chosen:function(s){return i.browser_is_supported()?this.each(function(e){var t,i;i=(t=o(this)).data("chosen"),"destroy"!==s?i instanceof r||t.data("chosen",new r(this,s)):i instanceof r&&i.destroy()}):this}}),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,i),t.prototype.setup=function(){return this.form_field_jq=o(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex},t.prototype.set_up_html=function(){var e,t;return(e=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),t={class:e.join(" "),title:this.form_field.title},this.form_field.id.length&&(t.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=o("<div />",t),this.container.width(this.container_width()),this.is_multiple?this.container.html(this.get_multi_html()):this.container.html(this.get_single_html()),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input.chosen-search-input"),this.focus_field=this.container.find("input.chosen-focus-input"),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},t.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},t.prototype.register_observers=function(){var i;return this.container.on("touchstart.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.container.on("touchend.chosen",function(t){return function(e){t.container_mouseup(e)}}(this)),this.container.on("mousedown.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.container.on("mouseup.chosen",function(t){return function(e){t.container_mouseup(e)}}(this)),this.container.on("mouseenter.chosen",function(t){return function(e){t.mouse_enter(e)}}(this)),this.container.on("mouseleave.chosen",function(t){return function(e){t.mouse_leave(e)}}(this)),this.search_results.on("mouseup.chosen",function(t){return function(e){t.search_results_mouseup(e)}}(this)),this.search_results.on("mouseover.chosen",function(t){return function(e){t.search_results_mouseover(e)}}(this)),this.search_results.on("mouseout.chosen",function(t){return function(e){t.search_results_mouseout(e)}}(this)),this.search_results.on("mousewheel.chosen DOMMouseScroll.chosen",function(t){return function(e){t.search_results_mousewheel(e)}}(this)),this.search_results.on("touchstart.chosen",function(t){return function(e){t.search_results_touchstart(e)}}(this)),this.search_results.on("touchmove.chosen",function(t){return function(e){t.search_results_touchmove(e)}}(this)),this.search_results.on("touchend.chosen",function(t){return function(e){t.search_results_touchend(e)}}(this)),this.form_field_jq.on("chosen:updated.chosen",function(t){return function(e){t.results_update_field(e)}}(this)),this.form_field_jq.on("chosen:activate.chosen",function(t){return function(e){t.activate_field(e)}}(this)),this.form_field_jq.on("chosen:open.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.form_field_jq.on("chosen:close.chosen",function(t){return function(e){t.close_field(e)}}(this)),this.search_field.on("blur.chosen",function(t){return function(e){t.input_blur(e)}}(this)),this.search_field.on("keyup.chosen",function(t){return function(e){t.keyup_checker(e)}}(this)),this.search_field.on("keydown.chosen",function(t){return function(e){t.keydown_checker(e)}}(this)),this.search_field.on("focus.chosen",function(t){return function(e){t.input_focus(e)}}(this)),this.search_field.on("cut.chosen",function(t){return function(e){t.clipboard_event_checker(e)}}(this)),this.search_field.on("paste.chosen",function(t){return function(e){t.clipboard_event_checker(e)}}(this)),this.is_multiple?this.search_choices.on("click.chosen",function(t){return function(e){t.choices_click(e)}}(this)):(this.container.on("click.chosen",function(e){e.preventDefault()}),this.focus_field.on("blur.chosen",function(t){return function(e){t.input_blur(e)}}(this)),this.focus_field.on("focus.chosen",function(t){return function(e){t.input_focus(e)}}(this)),i=function(e){return function(){return e.search_field.val(e.focus_field.val()),e.focus_field.val("")}}(this),this.focus_field.on("keyup.chosen",function(t){return function(e){i(),t.keyup_checker(e)}}(this)),this.focus_field.on("keydown.chosen",function(t){return function(e){i(),t.keydown_checker(e)}}(this)),this.focus_field.on("cut.chosen",function(t){return function(e){setTimeout(i,0),t.clipboard_event_checker(e)}}(this)),this.focus_field.on("paste.chosen",function(t){return function(e){setTimeout(i,0),t.clipboard_event_checker(e)}}(this)))},t.prototype.destroy=function(){return o(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.form_field_label.length>0&&this.form_field_label.off("click.chosen"),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},t.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field.disabled||this.form_field_jq.parents("fieldset").is(":disabled"),this.container.toggleClass("chosen-disabled",this.is_disabled),this.search_field[0].disabled=this.is_disabled,this.is_multiple||this.selected_item.off("focus.chosen",this.activate_field),this.is_disabled?this.close_field():this.is_multiple?void 0:this.selected_item.on("focus.chosen",this.activate_field)},t.prototype.container_mousedown=function(e){var t;if(!this.is_disabled)return!e||"mousedown"!==(t=e.type)&&"touchstart"!==t||this.results_showing||e.preventDefault(),null!=e&&o(e.target).hasClass("search-choice-close")?void 0:(this.active_field?this.is_multiple||!e||o(e.target)[0]!==this.selected_item[0]&&!o(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),o(this.container[0].ownerDocument).on("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},t.prototype.container_mouseup=function(e){if("ABBR"===e.target.nodeName&&!this.is_disabled)return this.results_reset(e)},t.prototype.search_results_mousewheel=function(e){var t;if(e.originalEvent&&(t=e.originalEvent.deltaY||-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t)return e.preventDefault(),"DOMMouseScroll"===e.type&&(t*=40),this.search_results.scrollTop(t+this.search_results.scrollTop())},t.prototype.blur_test=function(e){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},t.prototype.close_field=function(){return o(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale(),this.search_field.blur()},t.prototype.activate_field=function(){if(!this.is_disabled)return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.focus()},t.prototype.test_active_click=function(e){var t;return(t=o(e.target).closest(".chosen-container")).length&&this.container[0]===t[0]?this.active_field=!0:this.close_field()},t.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=a.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.focus_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.focus_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},t.prototype.result_do_highlight=function(e){var t,i,s,r,n;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),s=parseInt(this.search_results.css("maxHeight"),10),n=this.search_results.scrollTop(),r=s+n,i=this.result_highlight.position().top+this.search_results.scrollTop(),(t=i+this.result_highlight.outerHeight())>=r)return this.search_results.scrollTop(t-s>0?t-s:0);if(i<n)return this.search_results.scrollTop(i)}},t.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},t.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.get_search_field_value()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},t.prototype.update_results_content=function(e){return this.search_results.html(e)},t.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),setTimeout(function(e){return function(){return e.focus_field.focus()}}(this),0),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},t.prototype.set_tab_index=function(e){var t,i;if(this.form_field.tabIndex)return i=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=i,null!=(t=this.focus_field[0])?t.tabIndex=i:void 0},t.prototype.set_label_behavior=function(){if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=o("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.on("click.chosen",this.label_click_handler)},t.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},t.prototype.search_results_mouseup=function(e){var t;if((t=o(e.target).hasClass("active-result")?o(e.target):o(e.target).parents(".active-result").first()).length)return this.result_highlight=t,this.result_select(e),this.search_field.focus()},t.prototype.search_results_mouseover=function(e){var t;if(t=o(e.target).hasClass("active-result")?o(e.target):o(e.target).parents(".active-result").first())return this.result_do_highlight(t)},t.prototype.search_results_mouseout=function(e){if(o(e.target).hasClass("active-result")||o(e.target).parents(".active-result").first())return this.result_clear_highlight()},t.prototype.choice_build=function(e){var t,i;return t=o("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(e)+"</span>"),e.disabled?t.addClass("search-choice-disabled"):((i=o("<a />",{class:"search-choice-close","data-option-array-index":e.array_index})).on("click.chosen",function(t){return function(e){return t.choice_destroy_link_click(e)}}(this)),t.append(i)),this.search_container.before(t)},t.prototype.choice_destroy_link_click=function(e){if(e.preventDefault(),e.stopPropagation(),!this.is_disabled)return this.choice_destroy(o(e.target))},t.prototype.choice_destroy=function(e){if(this.result_deselect(e[0].getAttribute("data-option-array-index")))return this.active_field?this.search_field.focus():this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.get_search_field_value().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()},t.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.trigger_form_field_change(),this.active_field)return this.results_hide()},t.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},t.prototype.result_select=function(e){var t,i;if(this.result_highlight)return t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),t.addClass("result-selected"),i=this.results_data[t[0].getAttribute("data-option-array-index")],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(this.choice_label(i)),this.is_multiple&&(!this.hide_results_on_select||e.metaKey||e.ctrlKey)?e.metaKey||e.ctrlKey?this.winnow_results({skip_highlight:!0}):(this.search_field.val(""),this.winnow_results()):(this.results_hide(),this.show_search_field_default()),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.trigger_form_field_change({selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,e.preventDefault(),this.search_field_scale())},t.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(e)},t.prototype.result_deselect=function(e){var t;return t=this.results_data[e],!this.form_field.options[t.options_index].disabled&&(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.trigger_form_field_change({deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},t.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},t.prototype.get_search_field_value=function(){return this.search_field.val()},t.prototype.get_search_text=function(){return o.trim(this.get_search_field_value())},t.prototype.escape_html=function(e){return o("<div/>").text(e).html()},t.prototype.winnow_results_set_highlight=function(){var e,t;if(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),null!=(e=t.length?t.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(e)},t.prototype.no_results=function(e){var t;return t=this.get_no_results_html(e),this.search_results.append(t),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},t.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},t.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},t.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},t.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last()).length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},t.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},t.prototype.search_field_scale=function(){var e,t,i,s,r,n,a;if(this.is_multiple){for(r={position:"absolute",left:"-1000px",top:"-1000px",display:"none",whiteSpace:"pre"},t=0,i=(n=["fontSize","fontStyle","fontWeight","fontFamily","lineHeight","textTransform","letterSpacing"]).length;t<i;t++)r[s=n[t]]=this.search_field.css(s);return(e=o("<div />").css(r)).text(this.get_search_field_value()),o("body").append(e),a=e.width()+25,e.remove(),this.container.is(":visible")&&(a=Math.min(this.container.outerWidth()-10,a)),this.search_field.width(a)}},t.prototype.trigger_form_field_change=function(e){return this.form_field_jq.trigger("input",e),this.form_field_jq.trigger("change",e)},t}()}).call(this);var lastUpdate="3/28/2022, 4:31:40 AM";var lastVersion="2.35.82";class LoadingBarManager{constructor(){this.options={targetEl:"body",
loadingElID:"loading-bar",
message:"Loading..."}
;this.reset()}reset(){if(




$("#"+this.options.loadingElID).length){
this.showLoading()}else{

$(this.options.targetEl).append('<div id="'+this.options.loadingElID+'">'+this.options.message+"</div>")
;this.showLoading()}}hideLoading(){




$("#"+this.options.loadingElID).fadeOut()}showLoading(){



$("#"+this.options.loadingElID).fadeIn()}}class Utilities{constructor(){this.googleTracking=new GoogleAnalyticsManager}gaEvent(e,t,i,s,r){this.googleTracking.sendTrackEvent(i,s)}setCookieValue(e,t,i){var s=new Date;i=i||.5;s.setTime(s.getTime()+i*24*60*60*1e3);var r="expires="+s.toUTCString();document.cookie=e+"="+t+"; "+r}getCookieValue(e){var t=e+"=";var i=document.cookie.split(";");for(var s=0;s<i.length;s++){var r=i[s];while(
r.charAt(0)==" ")r=r.substring(1);if(
r.indexOf(t)==0)return r.substring(t.length,r.length)}

return""}setupFacebook(){




window.fbAsyncInit=function(){
FB.init({
appId:"563956043742586",
xfbml:true,
version:"v2.4"})

;FB.Event.subscribe("edge.create",function(e){
this.googleTracking.sendTrackEvent("facebook","like")})


;FB.Event.subscribe("edge.remove",function(e){
this.googleTracking.sendTrackEvent("facebook","unlike")})


;FB.Event.subscribe("message.send",function(e){
this.googleTracking.sendTrackEvent("facebook","send")})};(function(



e,t,i){
var s,r=e.getElementsByTagName(t)[0];if(
e.getElementById(i)){
return}

s=e.createElement(t)
;s.id=i
;s.src="//connect.facebook.net/en_US/sdk.js"
;r.parentNode.insertBefore(s,r)})(
document,"script","facebook-jssdk")}setupTwitter(){




var i=this
;window.twttr=function(e,t,i){
var s,r=e.getElementsByTagName(t)[0],
n=window.twttr||{};if(
e.getElementById(i))return n
;s=e.createElement(t)
;s.id=i
;s.src="https://platform.twitter.com/widgets.js"
;r.parentNode.insertBefore(s,r)

;n._e=[]
;n.ready=function(e){
n._e.push(e)}


;return n}(
document,"script","twitter-wjs")


;twttr.ready(function(e){
e.events.bind("tweet",function(e){if(
e){
var t=window.location.href;if(
e.target&&e.target.nodeName=="IFRAME"){
t=i.extractParamFromUri(e.target.src,"url")}

this.googleTracking.sendTrackEvent("twitter","tweet")}})})}mobileCheck(){







var t=false;(function(
e){if(
/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))t=true})(
navigator.userAgent||navigator.vendor||window.opera)
;return t}mobileAndTabletCheck(){



var t=false;(function(
e){if(
/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))t=true})(
navigator.userAgent||navigator.vendor||window.opera)
;return t}extractParamFromUri(


e,t){if(
!e){
return null}

var i=new RegExp("[\\?&#]"+t+"=([^&#]*)")
;var s=i.exec(e);if(
s!=null){
return decodeURI(unescape(s[1]))}

return null}saveCanvasAsPNG(


e){
var t=document.getElementById(e)
;var i=t.toDataURL("image/png").replace("image/png","image/octet-stream")
;window.location.href=i}update_hash(


e){
e=e||false
;var t=window.location.pathname.split("/")
;var i=window.location.hash||this.extractParamFromUri(window.location.search,"id")||(t.pop()||t.pop())||"#!ID Not Set"
;i=decodeURI(i)
;i=i.replace("#!","")
;i=i.replace("#","");if(
e!==i){
$("#pageTitle").append(i)}

return i}SetHash(


e){
window.location.hash=e}}class GoogleAnalyticsManager{constructor(){this.hashervar=window.location.hash||"",this.pagePath=window.location.pathname+this.hashervar;this.loadScript();ga("create","UA-66360026-1","auto");this.ping()}loadScript(){(function(e,t,i,s,r,n,a){e["GoogleAnalyticsObject"]=r;e[r]=e[r]||function(){(e[r].q=e[r].q||[]).push(arguments)},e[r].l=1*new Date;n=t.createElement(i),a=t.getElementsByTagName(i)[0];n.async=1;n.src=s;a.parentNode.insertBefore(n,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga")}ping(){ga("send","pageview",this.pagePath)}sendTrackEvent(e,t){if(arguments.length<3){ga("send","event",e,t)}}}class DataController{constructor(e,t){this.DateRangeControl=e;this.parent=t;this.data=this.ConvertArrayToObjects(ArrestsCacheTableArr);this.PreProcessData()}ConvertArrayToObjects(e){var t=[];for(var i=0;i<e.length;i++){t.push(this.ConvertArrayToObject(e[i]))}return t}ConvertArrayToObject(e){var t={};var i=DATA_MODEL_COLUMNS.map(e=>e.COLUMN_NAME);if(i.length>=e.length){for(var s=0;s<e.length;s++){t[i[s]]=e[s]}}return t}PreProcessData(){this.PreProcessData_DaysSince();this.PreProcessData_YearToDate();this.PreProcessData_SortOrder()}PreProcessData_DaysSince(){var i=function(e,t){var i=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());var s=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((s-i)/(1e3*60*60*24))};this.forEach((e,t)=>{this.data[t].DaysSince=i(new Date(e.Date),new Date)})}PreProcessData_YearToDate(){var n=function(e,t){var i=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());var s=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((s-i)/(1e3*60*60*24))};this.forEach((e,t)=>{var i=new Date((new Date).getFullYear(),0,1);var s=new Date;var r=n(i,s);this.data[t].YearToDateStatus=r>e.YearToDate?"Year To Date":"Future Period"})}PreProcessData_SortOrder(){function e(e,t){if(e.DaysSince<t.DaysSince){return 1}if(e.DaysSince>t.DaysSince){return-1}return 0}this.data.sort(e)}forEach(e,t,i){t=t||function(){};i=i||true;for(var s=this.data.length-1;s>=0;s--){var r=this.data[s];if(i){if(this.dateLimit(r,this.DateRangeControl.getStart(),this.DateRangeControl.getEnd())){e(r,s)}}else{e(r,s)}}t()}incrementMap(e,t){if(!e.hasOwnProperty(t)){e[t]=1}else{e[t]=e[t]+1}return e}dateLimit(e,t,i){t=t||this.start_date;i=i||this.end_date;return new Date(e.Date)>=new Date(t)&&new Date(e.Date)<=new Date(i)}getMostRecentArrest(e){var t;var i=999999999;this.forEach(e=>{if(this.dateLimit(e,this.DateRangeControl.getStart(),this.DateRangeControl.getEnd())){if(e.DaysSince<i){t=e;i=e.DaysSince}}},()=>{e(t)})}getTeams(e,t){var i=t||(e=>{return this.dateLimit(e,this.DateRangeControl.getStart(),this.DateRangeControl.getEnd())})
;var s=[]
;var r={}
;var n={}
;var a=new Map;for(


var o=this.data.length-1;o>=0;o--){
var l=this.data[o];if(


i(l)){

var _={
Team:l.Team,
Team_name:l.Team_name,
Team_preffered_name:l.Team_preffered_name,
Team_logo_id:l.Team_logo_id,
Team_Conference:l.Team_Conference,
Team_Division:l.Team_Division,
Team_Conference_Division:l.Team_Conference_Division,
Team_Arrest_Count:1};if(



!a.has(l.Team)){
a.set(l.Team,1)
;r[l.Team]=s.length
;n[l.Team]=_}else{



a.set(_.Team,a.get(_.Team)+1)
;n[l.Team]["Team_Arrest_Count"]++}}}for(






var c=Object.keys(n).length-1;c>=0;c--){
var h=n[Object.keys(n)[c]]
;s.push(h)}



s.sort(function(e,t){if(
e.Team_Arrest_Count>t.Team_Arrest_Count){
return-1}else if(
e.Team_Arrest_Count<t.Team_Arrest_Count){
return 1}else{


return 0}})




;e(s)}getArrestMeter(


e){
var i=0
;var s=-1
;var r=0
;var n=9e9

;this.forEach((e,t)=>{
r++
;i+=e.DaysToLastArrest;if(

e.DaysToLastArrest>s){
s=e.DaysToLastArrest}if(


e.DaysSince<n){
n=e.DaysSince}})



;i=i/r

;e({alltime:{
record:Math.floor(s),
average:Math.floor(i),
raw_average:Math.floor(i)},current:{

daysSince:Math.floor(n),
probability:Math.exp(n*-1)/i,
odds:Math.floor(1/Math.exp(n*-1/i))}})}getDistinctColumnValues(




e,t){
var i=t||(e=>{return this.dateLimit(e,this.DateRangeControl.getStart(),this.DateRangeControl.getEnd())})
;var e=e||[]
;var s=e[0]||e||{}
;var r=s["column_name"]||s||"null"
;var n=s["column_display_name"]||r

;var a={}
;var o={};for(


var l=this.data.length-1;l>=0;l--){
var _=this.data[l];if(
i(_)){
o=this.incrementMap(o,_[r])
;a[_[r]]=_[n]}}




var c=[]
;Object.keys(o).forEach(e=>{
var t={}
;t["column"]=r
;t["column_value"]=e
;t["column_display_value"]=a[e]
;t["record_count"]=o[e]
;c.push(t)})


;return c}getDonutChart(


i,e,t){
var s=function(e,t){
return t.arrest_count-e.arrest_count}


;var r={};for(

var n=this.data.length-1;n>=0;n--){
var a=this.data[n];if(
e(a)&&this.dateLimit(a,this.DateRangeControl.getStart(),this.DateRangeControl.getEnd())){
r=this.incrementMap(r,a[i])}}



var o=[]
;Object.keys(r).forEach(e=>{
var t={}
;t[i]=e
;t["arrest_count"]=r[e]
;o.push(t)})


;t(o.sort(s))}getOverallChart(


e,t,i,s,r){
var n={}

;n["Year"]="Year"
;n["Month"]="Month"
;n["Day"]="Day_of_Week"
;n["DayOrder"]="Day_of_Week_int"
;n["YearToDate"]="YearToDateStatus"
;n["Team"]="Team_preffered_name"
;n["Team Code"]="Team"
;n["Conference"]="Team_Conference"
;n["Division"]="Team_Conference_Division"
;n["Position"]="Position"
;n["Crime"]="Crime_category"
;n["Season"]="Season"
;n["SeasonState"]="ArrestSeasonState"
;n["Measure"]="arrest_count"

;var a=n[t]
;var o=n[e]

;var l=n[i]
;var _=s

;var c="Measure"
;var h="ASC"

;var u=l
;var d=_

;var L

;var A={}
;var M={}
;var p={}
;var g={}

;var U=[]
;var C=[]

;var N={}

;var E=function(e,t){
return t.arrest_count-e.arrest_count}

;var f=function(e,t){
return e.arrest_count-t.arrest_count};for(


var m=this.data.length-1;m>=0;m--){
var O=this.data[m];if(
this.dateLimit(O,this.DateRangeControl.getStart(),this.DateRangeControl.getEnd())){
A=this.incrementMap(A,O[a]+O[o])
;M=this.incrementMap(M,O[a])
;p=this.incrementMap(p,O[o])
;g[O[a]]=O[u]}}





var v=[]
;Object.keys(M).forEach(e=>{
var t={bar:e,arrest_count:M[e]}
;t[u]=g[e]
;v.push(t)});if(


d=="DESC"&&u==a){
v.sort(E)}else if(


d=="ASC"&&u=="Day_of_Week_int"){
v.sort((e,t)=>{
return e[u]-t[u]})}else if(

o=="3YearToDateStatus"){
v.sort((e,t)=>{if(
e=="Year To Date"){
return 1}else{

return-1}})}





var D=[]
;Object.keys(p).forEach(e=>{
D.push(e)})



;D=D.sort((e,t)=>{if(
o=="YearToDateStatus"){if(
e=="Year To Date"){
return 1}else{

return-1}}else{


return p[t]-p[e]}})





;var T=["x"]
;v.forEach(e=>{
T.push(e.bar)})



;var y=[]
;y.push(T)


;Object.keys(D).forEach(e=>{
var s=D[e]
;var r=[s]
;v.forEach(e=>{
var t=e.bar

;var i=A[t+s];if(
i==undefined){
i=0}

r.push(i)})

;y.push(r)})


;N={columns:y,
groups:D}
;r(N)}getTopLists(


e,t,i,s){
var r=[]

;var n={}
;var a={}
;var o={}
;var l={}

;var _=[]
;var c=[]
;var h=[];for(

var u=this.data.length-1;u>=0;u--){
var d=this.data[u];if(
this.dateLimit(d,this.DateRangeControl.getStart(),this.DateRangeControl.getEnd())){
n=this.incrementMap(n,d.Crime_category)
;a=this.incrementMap(a,d.Name)
;o=this.incrementMap(o,d.Position)
;l[d.Position]=d.Position_name}}



Object.keys(n).forEach(e=>{
var t={}
;t["Crime_category"]=e
;t["arrest_count"]=n[e]
;_.push(t)})



;Object.keys(a).forEach(e=>{
var t={}
;t["Name"]=e
;t["arrest_count"]=a[e]
;c.push(t)})



;Object.keys(o).forEach(e=>{
var t={}
;t["Position"]=e
;t["Position_name"]=l[e]
;t["arrest_count"]=o[e]
;h.push(t)})


;var L=function(e,t){
return t.arrest_count-e.arrest_count}



;r.push(_.sort(L).slice(e,e+5))
;r.push(c.sort(L).slice(e,e+5))
;r.push(h.sort(L).slice(e,e+5))

;s(r)}getFilteredDataCount(


e,t){
var i=t||(e=>{return this.dateLimit(e,this.DateRangeControl.getStart(),this.DateRangeControl.getEnd())})
;var s=[]
;this.forEach(e=>{if(
i(e)){
s.push(e)}},()=>{



e(s.length)})}getArrests(



t,e){
var i=[]
;this.forEach(e=>{if(
this.dateLimit(e,this.DateRangeControl.getStart(),this.DateRangeControl.getEnd())){if(
t(e)){
i.push(e)}}},()=>{




e(i)})}getActivePlayerArrests(




e){
e(["no data"])}}var DEBUG=false;class WebPage{constructor(e,t){this.Utilities=new Utilities;this.StyleManager=new StyleSheetManager;this.LoadingBar=new LoadingBarManager;this.pageTitle=e||"Default";this.option_HideLoadingBar=t===true?true:false;this.arrest_view_mode=0;if(this.Utilities.mobileCheck()){this.arrest_view_mode=1;moment.locale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"a few secs",ss:"%d secs",m:"a min",mm:"%d mins",h:"an hr",hh:"%d hrs",d:"a day",dd:"%d day",w:"a wk",ww:"%d wks",M:"a mth",MM:"%d mths",y:"a yr",yy:"%d yrs"}})}if(this.option_HideLoadingBar){this.LoadingBar.hideLoading()}this.charts=[];this.Modules_HashMap={};this.RenderUpdateDate()}renderView(){this.renderModules()}RenderUpdateDate(){var e=lastUpdate.split(",")[0];$("#updateDateFooter").html("Updated: "+e+' <a href="BuildHistory.html">v'+lastVersion+"</a>")}checkLoadingFinished(){console.warn("Default WebPage.js checkLoadingFinished() function called, should be overriden within a subclass");this.loadingFinished()}loadingFinished(){this.LoadingBar.hideLoading();this.Utilities.setupFacebook();this.Utilities.setupTwitter()}getModuleCount(){return Object.keys(this.Modules_HashMap).length}getModules(){return this.Modules_HashMap}getModule(e){if(this.Modules_HashMap.hasOwnProperty(e)){return this.Modules_HashMap[e]}else{console.error("No Module with the moduleID: "+e);return false}}setModules(e){if(Object.isObject(mObj)){this.Modules_HashMap=mObj}else{console.warn('WebPage.setModules(mObj): Expected Parameter(mObj) to be of type Object that should be formatted as a HashMap eg: [{"Key": ModuleInstance, "Key2": ModuleInstance2}].')}}addModule(e,t){t=t||"Module_"+e.getModuleID()+"_"+this.getModuleCount();this.Modules_HashMap[t]=e;return t}removeModule(e){if(this.Modules_HashMap[e]){delete this.Modules_HashMap[e]}else{console.warn("No such module found",e)}}renderModules(){if(this.getModuleCount()>0){var e=Object.keys(this.Modules_HashMap);for(var t=0;t<e.length;t++){this.Modules_HashMap[e[t]].renderView()}}}getHTMLDateTitleAttribute(e,t){if(typeof e!=="undefined"){var i=t||"Date";if(e.hasOwnProperty(i)){return'title="'+e[i].split("T")[0]+'"'}else{console.error("WebPage > getHTMLDateTitleAttribute: Row did not contain ["+i+"].");return""}}else{return""}}getDetailPageLink(e,t){return e.charAt(0).toUpperCase()+e.slice(1)+".html#"+t}getCrimeLink(e){return this.getDetailPageLink("CrimeCategory",e)}getCrimeSubCategoryLink(e){return this.getDetailPageLink("Crime",e)}getPlayerLink(e){return this.getDetailPageLink("Player",e)}getTeamLink(e){return this.getDetailPageLink("Team",e)}getPositionLink(e){return this.getDetailPageLink("Position",e)}displayDialogBox(e,t,i,s){var r=e||"error-dialog";var t=t||"Error! No Message found.";var i=i||"Error";var s=s||{modal:true};if($("#"+r).length===0){$("body").append('<div id="'+r+'" title="'+i+'">'+t+"</div>")}$("#"+r).dialog(s);this.Utilities.googleTracking.sendTrackEvent("PageDialogOpen",i)}}class DataDrivenWebPage extends WebPage{constructor(e,t){super(e,t);this.FilterFunction=e=>{return this.data_controller.dateLimit(e,this.DateRangeControl.getStart(),this.DateRangeControl.getEnd())};this.DateRangeControl=new DateRangeControl(this);this.data_controller=new DataController(this.DateRangeControl,this);this.setupEvents();this.setupFilters()}setupFilters(){var e=this.pageTitle.toLowerCase();var t={presets:{},date_range_object:this.dateRangeNFL};t["presets"][e]={};t["presets"][e][e]=this.pageID;this.FilterControl=new FiltersControl(this,[],t);$(this.FilterControl.options.dialog_element).on("FilterDialogChanged",()=>{this.renderView()})}setupEvents(){$("#dateRangeJquery").on("dateRangeChanged",e=>{this.renderView(this)})}getDataFilters(){return[this.DateRangeControl]}getDataController(){return this.data_controller}setDataController(e){this.data_controller=e}checkForZeroRecords(){var e=e=>{if(e<=0){this.DateRangeControl.setDates(moment("2000-01-01"),moment());this.DateRangeControl.renderView();this.displayDialogBox("error-dialog","<strong>Warning!</strong> No Data Returned with current Filter Selection. Date Filter Set to default.","Date Range Error")}};this.getDataController().getFilteredDataCount(e,this.FilterFunction)}renderView(){this.checkForZeroRecords();this.LoadingBar.showLoading();super.renderView()}}class FiltersModel{constructor(){this.filter_types={date_range_controller:{name:"dateRangeController",names:["start_date","end_date"],library:"NFLArrest",description:"The NFL Date Range Controller Module, contains two values",default_val:["2000-01-01",moment().format("YYYY-MM-DD")],getValue:function(e,t){var i=[];i.push(e.DateRangeFilterInstance.start_date);i.push(e.DateRangeFilterInstance.end_date);return i},isActive:function(e,t){var i=e.DateRangeFilterInstance.start_date!=t["type"]["default_val"][0];var s=e.DateRangeFilterInstance.end_date!=t["type"]["default_val"][1];return i||s}},select:{name:"select",library:"Chosen",description:"multi select field for filters, contains an array of values",default_val:null,getValue:function(e,t){return $(t.element).val()},isActive:function(e,t){return $(t.element).val()!=t["type"]["default_val"]}},checkbox_group:{name:"checkbox-group",library:"JQuery-UI",description:"a group of binary options",default_val:"all",getValue:function(e,t){var i=[];$(t.element).map(function(e,t){if(!$(t).prop("checked")){i.push("1")}else{i.push("0")}});return i.join("")},isActive:function(e,t){var i=0;$(t.element).map(function(e,t){if(!$(t).prop("checked")){i++}});return i>0},compare:function(e,t,i,s){var r=0;$(t.element).map(function(e,t){if(!$(t).prop("checked")){r++}});return i===s}},radio_group:{name:"radio-group",library:"JQuery-UI",description:"a group of discrete options",default_val:"all",getValue:function(e,t){var i=[];$(t.element).map(function(e,t){if(!$(t).prop("checked")){i.push("1")}else{i.push("0")}});return i.join("")},isActive:function(e,t){var i=0;$(t.element).map(function(e,t){if(!$(t).prop("checked")){i++}});return i>0},compare:function(e,t,i,s){var r=0;$(t.element).map(function(e,t){if(!$(t).prop("checked")){r++}});return i===s}},checkbox:{name:"checkbox",library:"JQuery-UI",description:"a single binary option",default_val:false,getValue:function(e,t){return $(t.element).prop("checked")},isActive:function(e,t){return $(t.element).prop("checked")!=t["type"]["default_val"]},compare:function(e,t,i,s){return i===s}}};this.filter_items={daterange:{element:"#filter-daterange-input",type:this.filter_types.date_range_controller,title:"Date Range",name:["start_date","end_date"]},month:{element:"#filter-month-input",type:this.filter_types.select,title:"Month",filter_data_options:DATA_MODEL_FRAMEWORK_MONTHS_VALUES_ARRAY,name:"month[]",isHidden:true},dayofweek:{element:"#filter-dayofweek-input-mon, #filter-dayofweek-input-tues, #filter-dayofweek-input-wed, #filter-dayofweek-input-thur, #filter-dayofweek-input-fri, #filter-dayofweek-input-sat, #filter-dayofweek-input-sun",type:this.filter_types.checkbox_group,title:"Day Of Week",filter_data_options:DATA_MODEL_FRAMEWORK_DAY_OF_WEEK_VALUES_ARRAY,name:"dayofweek",isHidden:true},yeartodate:{element:"#filter-yeartodate-input",type:this.filter_types.radio_group,title:"Year To Date",filter_data_options:DATA_MODEL_FRAMEWORK_NULLABLE_BOOLEAN_VALUES_ARRAY,name:"yeartodate",isHidden:true},season:{element:"#filter-season-input",type:this.filter_types.select,title:"Season",filter_data_options:DATA_MODEL_VWARRESTSWEB_SEASON_VALUES_ARRAY,name:"season[]",isHidden:true},season_status:{element:"#filter-seasonStatusOn-input, #filter-seasonStatusOff-input",type:this.filter_types.checkbox_group,title:"Season Status",filter_data_options:DATA_MODEL_VWARRESTSWEB_ARRESTSEASONSTATE_VALUES_ARRAY,name:"season_status"},team:{element:"#filter-team-input",type:this.filter_types.select,title:"Team",filter_data_options:DATA_MODEL_VWARRESTSWEB_TEAM_VALUES_ARRAY,name:"team[]"},conference:{element:"#filter-conference-AFC-input, #filter-conference-NFC-input",type:this.filter_types.checkbox_group,title:"Conference",filter_data_options:DATA_MODEL_VWARRESTSWEB_TEAM_CONFERENCE_VALUES_ARRAY,name:"conference",isHidden:true},division:{element:"#filter-division-input",type:this.filter_types.select,title:"Division",filter_data_options:DATA_MODEL_VWARRESTSWEB_TEAM_CONFERENCE_DIVISION_VALUES_ARRAY,name:"division[]"},crimeCategory:{element:"#filter-crime-category-input",type:this.filter_types.select,title:"Crime Category",filter_data_options:DATA_MODEL_VWARRESTSWEB_CRIME_CATEGORY_VALUES_ARRAY,name:"crimeCategory[]"},crime:{element:"#filter-crime-input",type:this.filter_types.select,title:"Crime",filter_data_options:DATA_MODEL_VWARRESTSWEB_CATEGORY_VALUES_ARRAY,name:"crime[]",isHidden:true},position:{element:"#filter-position-input",type:this.filter_types.select,title:"Position",filter_data_options:DATA_MODEL_VWARRESTSWEB_POSITION_VALUES_ARRAY,name:"position[]"},position_type:{element:"#filter-position-type-input-o, #filter-position-type-input-d, #filter-position-type-input-s",type:this.filter_types.checkbox_group,title:"Position Type",filter_data_options:DATA_MODEL_VWARRESTSWEB_POSITION_TYPE_VALUES_ARRAY,name:"position_type"}};this.filter_sections={date:{title:"Date Filters",element:"#filter-date-section",items:[this.filter_items.daterange,this.filter_items.month,this.filter_items.dayofweek,this.filter_items.yeartodate]},season:{title:"Season Filters",element:"#filter-season-section",items:[this.filter_items.season,this.filter_items.season_status]},team:{title:"Team Filters",element:"#filter-team-section",items:[this.filter_items.team,this.filter_items.conference,this.filter_items.division]},crime:{title:"Crime Filters",element:"#filter-crime-section",items:[this.filter_items.crimeCategory,this.filter_items.crime]},position:{title:"Position Filters",element:"#filter-position-section",items:[this.filter_items.position,this.filter_items.position_type]}}}}var DATA_MODEL_DISPLAY_COLUMNS={Date:{column_id:0,column_title:"Date:",column_data:"Date",column_display_fn:e=>{return moment(e["Date"],"YYYY-MM-DD").fromNow()},column_tooltip:"Date",column_width:2},Name:{column_id:1,column_title:"Player:",column_data:"Name",column_display_fn:e=>{return'<a href="Player.html#'+e["Name"]+'">'+e["Name"]+"</a>"},column_width:2},Category:{column_id:2,column_title:"Crime Sub-Category:",column_data:"Category",column_display_fn:e=>{return'<a href="Crime.html#'+e["Category"]+'">'+e["Category"]+"</a>"},column_width:2},Team:{column_id:3,column_title:"Team:",column_data:"Team",column_display_fn:e=>{return'<a href="Team.html#'+e["Team"]+"\"><span style=\"display:inline-block;width:20px;height:20px;vertical-align: text-bottom;background:url('images/NFLTeamLogos.png') 0px -"+e["Team_logo_id"]*20+'px;background-size:100%;"></span> '+e["Team"]+"</a>"},column_width:1},Description:{column_id:4,column_title:"Description:",column_data:"Description",column_width:5},Outcome:{column_id:5,column_title:"Outcome:",column_data:"Outcome",column_width:4},Crime_category:{column_id:6,column_title:"Crime Category:",column_data:"Crime_category",column_display_fn:e=>{return'<a href="CrimeCategory.html#'+e["Crime_category"]+'">'+e["Crime_category"]+"</a>"},column_width:2},getColumn:(e,t)=>{var i=DATA_MODEL_DISPLAY_COLUMNS[e];if(t!==undefined){i.column_width=t}return i}};var DATA_MODEL_COLUMNS=[{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"arrest_stats_id",ORDINAL_POSITION:1,DATA_TYPE:"int",CHARACTER_MAXIMUM_LENGTH:null,COLUMN_TYPE:"int",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Date",ORDINAL_POSITION:2,DATA_TYPE:"date",CHARACTER_MAXIMUM_LENGTH:null,COLUMN_TYPE:"date",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Team",ORDINAL_POSITION:3,DATA_TYPE:"varchar",CHARACTER_MAXIMUM_LENGTH:5,COLUMN_TYPE:"varchar(5)",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Team_name",ORDINAL_POSITION:4,DATA_TYPE:"varchar",CHARACTER_MAXIMUM_LENGTH:25,COLUMN_TYPE:"varchar(25)",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Team_preffered_name",ORDINAL_POSITION:5,DATA_TYPE:"varchar",CHARACTER_MAXIMUM_LENGTH:55,COLUMN_TYPE:"varchar(55)",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Team_city",ORDINAL_POSITION:6,DATA_TYPE:"varchar",CHARACTER_MAXIMUM_LENGTH:35,COLUMN_TYPE:"varchar(35)",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Team_logo_id",ORDINAL_POSITION:7,DATA_TYPE:"int",CHARACTER_MAXIMUM_LENGTH:null,COLUMN_TYPE:"int",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Team_Conference",ORDINAL_POSITION:8,DATA_TYPE:"varchar",CHARACTER_MAXIMUM_LENGTH:3,COLUMN_TYPE:"varchar(3)",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Team_Division",ORDINAL_POSITION:9,DATA_TYPE:"varchar",CHARACTER_MAXIMUM_LENGTH:5,COLUMN_TYPE:"varchar(5)",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Team_Conference_Division",ORDINAL_POSITION:10,DATA_TYPE:"varchar",CHARACTER_MAXIMUM_LENGTH:9,COLUMN_TYPE:"varchar(9)",COLUMN_COMMENT:"A computed column of confrence + division strings"},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Team_hex_color",ORDINAL_POSITION:11,DATA_TYPE:"varchar",CHARACTER_MAXIMUM_LENGTH:6,COLUMN_TYPE:"varchar(6)",COLUMN_COMMENT:"The hex value that represents the team main color, without the preceding # hash symbol"},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Team_hex_alt_color",ORDINAL_POSITION:12,DATA_TYPE:"varchar",CHARACTER_MAXIMUM_LENGTH:6,COLUMN_TYPE:"varchar(6)",COLUMN_COMMENT:"The hex value that represents the team second color, without the preceding # hash symbol"},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Name",ORDINAL_POSITION:13,DATA_TYPE:"varchar",CHARACTER_MAXIMUM_LENGTH:25,COLUMN_TYPE:"varchar(25)",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Position",ORDINAL_POSITION:14,DATA_TYPE:"varchar",CHARACTER_MAXIMUM_LENGTH:5,COLUMN_TYPE:"varchar(5)",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Position_name",ORDINAL_POSITION:15,DATA_TYPE:"varchar",CHARACTER_MAXIMUM_LENGTH:25,COLUMN_TYPE:"varchar(25)",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Position_type",ORDINAL_POSITION:16,DATA_TYPE:"varchar",CHARACTER_MAXIMUM_LENGTH:25,COLUMN_TYPE:"varchar(25)",COLUMN_COMMENT:"O = offense, D = Defense, S = special teams"},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Encounter",ORDINAL_POSITION:17,DATA_TYPE:"varchar",CHARACTER_MAXIMUM_LENGTH:12,COLUMN_TYPE:"varchar(12)",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Category",ORDINAL_POSITION:18,DATA_TYPE:"varchar",CHARACTER_MAXIMUM_LENGTH:25,COLUMN_TYPE:"varchar(25)",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Crime_category",ORDINAL_POSITION:19,DATA_TYPE:"varchar",CHARACTER_MAXIMUM_LENGTH:25,COLUMN_TYPE:"varchar(25)",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Crime_category_color",ORDINAL_POSITION:20,DATA_TYPE:"varchar",CHARACTER_MAXIMUM_LENGTH:6,COLUMN_TYPE:"varchar(6)",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Description",ORDINAL_POSITION:21,DATA_TYPE:"varchar",CHARACTER_MAXIMUM_LENGTH:255,COLUMN_TYPE:"varchar(255)",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Outcome",ORDINAL_POSITION:22,DATA_TYPE:"varchar",CHARACTER_MAXIMUM_LENGTH:255,COLUMN_TYPE:"varchar(255)",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Season",ORDINAL_POSITION:23,DATA_TYPE:"year",CHARACTER_MAXIMUM_LENGTH:null,COLUMN_TYPE:"year",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"ArrestSeasonState",ORDINAL_POSITION:24,DATA_TYPE:"varchar",CHARACTER_MAXIMUM_LENGTH:10,COLUMN_TYPE:"varchar(10)",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"general_category_id",ORDINAL_POSITION:25,DATA_TYPE:"int",CHARACTER_MAXIMUM_LENGTH:null,COLUMN_TYPE:"int",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"legal_level_id",ORDINAL_POSITION:26,DATA_TYPE:"int",CHARACTER_MAXIMUM_LENGTH:null,COLUMN_TYPE:"int",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"resolution_category_id",ORDINAL_POSITION:27,DATA_TYPE:"int",CHARACTER_MAXIMUM_LENGTH:null,COLUMN_TYPE:"int",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Year",ORDINAL_POSITION:28,DATA_TYPE:"int",CHARACTER_MAXIMUM_LENGTH:null,COLUMN_TYPE:"int",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Month",ORDINAL_POSITION:29,DATA_TYPE:"int",CHARACTER_MAXIMUM_LENGTH:null,COLUMN_TYPE:"int",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Day",ORDINAL_POSITION:30,DATA_TYPE:"int",CHARACTER_MAXIMUM_LENGTH:null,COLUMN_TYPE:"int",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Day_of_Week",ORDINAL_POSITION:31,DATA_TYPE:"varchar",CHARACTER_MAXIMUM_LENGTH:9,COLUMN_TYPE:"varchar(9)",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"Day_of_Week_int",ORDINAL_POSITION:32,DATA_TYPE:"int",CHARACTER_MAXIMUM_LENGTH:null,COLUMN_TYPE:"int",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"YearToDate",ORDINAL_POSITION:33,DATA_TYPE:"int",CHARACTER_MAXIMUM_LENGTH:null,COLUMN_TYPE:"int",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"DaysSince",ORDINAL_POSITION:34,DATA_TYPE:"bigint",CHARACTER_MAXIMUM_LENGTH:null,COLUMN_TYPE:"bigint",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"DaysToLastArrest",ORDINAL_POSITION:35,DATA_TYPE:"bigint",CHARACTER_MAXIMUM_LENGTH:null,COLUMN_TYPE:"bigint",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"DaysToLastCrimeArrest",ORDINAL_POSITION:36,DATA_TYPE:"bigint",CHARACTER_MAXIMUM_LENGTH:null,COLUMN_TYPE:"bigint",COLUMN_COMMENT:""},{TABLE_SCHEMA:"nflarrestdw",TABLE_NAME:"vwarrestsweb",COLUMN_NAME:"DaysToLastTeamArrest",ORDINAL_POSITION:37,DATA_TYPE:"bigint",CHARACTER_MAXIMUM_LENGTH:null,COLUMN_TYPE:"bigint",COLUMN_COMMENT:""}];class DateRangeControl{constructor(e){this.start_date="2000-01-01";this.end_date="";this.parent=e;this.setHash();this.setupDateRangePicker();this.setupDateRangePickerEvents()}setupDateRangePicker(e){var e=e||[{text:"Last 3 Months",dateStart:()=>moment().subtract("months",3),dateEnd:()=>moment()},{text:"Last 6 Months",dateStart:()=>moment().subtract("months",6),dateEnd:()=>moment()},{text:"Last Year",dateStart:()=>moment().subtract("years",1),dateEnd:()=>moment()},{text:"Last 5 Years",dateStart:()=>moment().subtract("years",5),dateEnd:()=>moment()},{text:"All Records",dateStart:()=>moment("2000-01-01"),dateEnd:()=>moment()}];var t=this.parent.Utilities.mobileCheck()?1:2;$("#dateRangeJquery").daterangepicker({presetRanges:e,datepickerOptions:{minDate:new Date("2000-01-01"),maxDate:0,numberOfMonths:t}})}renderView(){this.setDefaultDate();var e={start:moment(this.start_date).toDate(),end:moment(this.end_date).toDate()};$("#dateRangeJquery").daterangepicker("setRange",e)}setupDateRangePickerEvents(){this.renderView();$("#dateRangeJquery").on("change",()=>{this.changeDateRange(this)});$("#dateRangeJquery").on("open",()=>this.parent.Utilities.googleTracking.sendTrackEvent("DateRange","OpenDialog"))}open(){$("#dateRangeJquery").daterangepicker("open")}close(){$("#dateRangeJquery").daterangepicker("close")}resetTime(e){this.parent.Utilities.googleTracking.sendTrackEvent("DateRange","Reset");e=e||false;var t="2000-01-01",i=this.getToday();this.setDates(t,i)}setDefaultDate(){var e=moment().format("YYYY-MM-DD");this.start_date=this.start_date||this.getCookie("start_date")||"2000-01-01";this.end_date=this.end_date||this.getCookie("end_date")||e}getToday(){var e=new Date,t,i;if(e.getMonth()<9){t="0"+(e.getMonth()+1)}else{t=e.getMonth()+1}if(e.getDate()<10){i="0"+e.getDate()}else{i=e.getDate()}return e.getFullYear()+"-"+t+"-"+i}getStart(){return this.start_date}getEnd(){return this.end_date}setHash(){if(typeof pageID!=="undefined"){var e=pageID||"";e="#!"+e}else{var e="#!"}}changeDateRange(e){var t=JSON.parse($("#dateRangeJquery").val());var i=t.start,s=t.end;if(new Date(i)>new Date(s)){var r=i;i=s;s=r}e.setDates(i,s)}setDates(e,t){this.setCookie("start_date",e);this.setCookie("end_date",t);this.start_date=e;this.end_date=t;if(window.CustomEvent){var i=new Event("dateRangeChanged");$("#dateRangeJquery").trigger("dateRangeChanged");this.parent.Utilities.googleTracking.sendTrackEvent("DateRange","DateChanged")}}setCookie(e,t,i){return this.parent.Utilities.setCookieValue(e,t,i)}getCookie(e){return this.parent.Utilities.getCookieValue(e)}}class Chart{constructor(e,t,i){this.chart=undefined;this.parent=i;this.options={targetElement:"#theElementSelector",chartTitle:"default",data:{}};this.defaultColorPattern=["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF","#154F78","#B0580A","#248224","#7D1717"];$.extend(true,this.options,e);this.chartType=t||"donut";this.options.$targetElement=$(this.options.targetElement);this.renderChart()}renderChart(){console.warn("WARNING: Using default render chart");var e={bindto:this.options.targetElement,data:{columns:this.options.data,type:this.chartType},color:{pattern:["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF","#154F78","#B0580A","#248224","#7D1717"]}};if(this.chartType=="donut"){e["donut"]={title:this.options.chartTitle}}this.chart=c3.generate(e)}}class Module{constructor(e,t,i,s){this.moduleID=undefined;this.parent=undefined;this.data=undefined;this.options=undefined;this.setModuleID(e);this.setParent(t);this.setData(i);this.setOptions(s)}renderView(){console.warn("Default Module renderView Function called.")}setModuleID(e){this.moduleID=e}getModuleID(){return this.moduleID}setParent(e){this.parent=e}getParent(){return this.parent}setData(e){if(this.validateDataFormat(e)){this.data=e}else{console.error("Invalid Data Format -- "+this.getModuleID())}}getData(){return this.data}setOptions(e){this.options=e}setOption(e,t){this.options[e]=t}getOptions(){return this.options}getOption(e,t){var i=this.options[e];if(t){i=i[t]}return i}getOptionExists(e){return this.getOptions().hasOwnProperty(e)}validateDataFormat(e){if(e){return true}else{return false}}getHTML(){return"\x3c!-- NO HTML Defined for Module: "+this.getModuleID()+" --\x3e"}getCSSIncludes(){return"\x3c!-- NO CSS Includes Defined for Module: "+this.getModuleID()+" --\x3e"}getJSIncludes(){return"\x3c!-- NO JS Includes Defined for Module: "+this.getModuleID()+" --\x3e"}}class DataTable extends Module{constructor(e,t,i){super("DataTable",e,t,i||{targetElement:"arrest_table",targetElementMobile:"arrest_cards",targetElementTableContainer:"arrest_details_container",targetElementTitleIncidentCount:"arrest_details_incident_count",TitlePrefix:"",RowLimit:15,GoogleTrackingCategory:"DetailPageArrests"});this.renderRowFn=undefined;this.renderRowHeaderFn=undefined;this.renderCardFn=undefined;this.displayDataFilterFn=undefined;this.displayPaginationTemplateFn=undefined;this.displayDataCallbackFn=undefined;this.setupDefaultFunctions();this.setOption("afterInit",false);if(this.getOptionExists("renderRowHeaderFn")){this.setRenderRowHeaderFn(this.getOption("renderRowHeaderFn"))}if(this.getOptionExists("renderRowFn")){this.setRenderRowFn(this.getOption("renderRowFn"))}if(this.getOptionExists("renderCardFn")){this.setRenderCardFn(this.getOption("renderCardFn"))}this.view_mobile=this.parent.Utilities.mobileCheck()?true:false;this.DataTableColumns=undefined;if(this.getOptionExists("columns")){this.DataTableColumns=new DataTableColumns(this,this.getOption("columns"),{columns:this.getOption("columns")})}this.renderView()}setupDefaultFunctions(){var a=this;this.defaultFunctions={};this.defaultFunctions.displayDataFilterFn=e=>{if(a.parent.pageTitle=="Team"){if(e["Team"]!=a.parent.pageID){return false}}else if(a.parent.pageTitle=="Position"){if(e["Position"]!=a.parent.pageID){return false}}else if(a.parent.pageTitle=="Player"){if(e["Name"]!=a.parent.pageID){return false}}else if(a.parent.pageTitle=="Crime"){if(e["Category"]!=a.parent.pageID){return false}}else if(a.parent.pageTitle=="Crime Category"){if(e["Crime_category"]!=a.parent.pageID){return false}}return true};this.defaultFunctions.displayPaginationTemplateFn=(e,t)=>{var i=[];if(!a.view_mobile){i.push(a.renderRowHeader())}for(var s in e){var r=e[s];var n=a.getData()[r];if(a.view_mobile){i.push(a.renderCard(n))}else{i.push(a.renderRow(n))}}if(a.view_mobile){$("#"+a.getOption("targetElementMobile")).html(i.join(""))}else{$("#"+a.getOption("targetElement")).html(i.join(""))}};this.defaultFunctions.displayDataCallbackFn=e=>{a.setupContainerElements(e);a.parent.checkLoadingFinished()}}setupContainerTitle(e){var t=this.getOption("targetElementTableContainer")||"arrest_details_container";var i=this.getOption("targetElementTitleIncidentCount")||"arrest_details_incident_count";var s=this.getOption("TitlePrefix")||"";$("#"+t).html('<h4 id="'+i+'" style="text-align:left;"># Incidents:</h4>');$("#"+i).html(s+e.length+" Incidents:")}setupContainerElements(e){var t=this.getOption("targetElementTitleIncidentCount")||"arrest_details_incident_count";if(this.view_mobile){$("#"+t).after('<div id="'+this.getOption("targetElementMobile")+'"></div>');$("#"+this.getOption("targetElementMobile")).after('<div id="pagination-control"></div>')}else{$("#"+t).after('<table id="'+this.getOption("targetElement")+'"></table>');$("#"+this.getOption("targetElement")).after('<div id="pagination-control"></div>')}}setupPagination(e){$("#pagination-control").pagination({dataSource:Array.from(this.getData().keys()),callback:this.displayPaginationTemplateFn||this.defaultFunctions.displayPaginationTemplateFn,afterPreviousOnClick:()=>{this.parent.Utilities.googleTracking.sendTrackEvent(this.getOption("GoogleTrackingCategory"),"Change Page : Previous Button")},afterPageOnClick:()=>{this.parent.Utilities.googleTracking.sendTrackEvent(this.getOption("GoogleTrackingCategory"),"Change Page : Page Button")},afterNextOnClick:()=>{this.parent.Utilities.googleTracking.sendTrackEvent(this.getOption("GoogleTrackingCategory"),"Change Page : Next Button")},afterGoInputOnEnter:()=>{this.parent.Utilities.googleTracking.sendTrackEvent(this.getOption("GoogleTrackingCategory"),"Change Page : Go Input On Enter")},afterGoInputOnClick:()=>{this.parent.Utilities.googleTracking.sendTrackEvent(this.getOption("GoogleTrackingCategory"),"Change Page : Go Input On Click")},afterInit:()=>{this.setOption("afterInit",true)},autoHidePrevious:true,autoHideNext:true,showNavigator:true,className:"paginationjs-theme-yellow paginationjs-big",pageSize:this.view_mobile?5:this.getOption("RowLimit"),pageRange:this.view_mobile?1:2})}validateDataFormat(e){return true}sortData(i,s){this.data.sort(function(e,t){if(s)return e[i]>t[i];else return e[i]<t[i]})}renderView(){var s=this;var e=s.displayDataFilterFn||s.defaultFunctions.displayDataFilterFn;var t=s.displayPaginationTemplateFn||s.defaultFunctions.displayPaginationTemplateFn;var i=e=>{s.setData(e);s.setupContainerTitle(e);var t=s.displayDataCallbackFn||s.defaultFunctions.displayDataCallbackFn;var i=e=>{t(e)};i(e);s.setupPagination(e)};s.parent.data_controller.getArrests(e,i)}renderCard(e){if(this.renderCardFn){return this.renderCardFn(e)}else{var t=new ArrestCard(this.parent,e);return t.getHTML()}}renderRowHeader(){if(this.renderRowHeaderFn){return this.renderRowHeaderFn()}else if(this.DataTableColumns){return this.DataTableColumns.renderRowColumns("header")}else{var e="<tr>";e+='<th class="one column">Date:</th>';e+='<th class="one column">Team:</th>';e+='<th class="two columns">Player:</th>';e+='<th class="one column">Crime:</th>';e+='<th class="four columns">Description:</th>';e+='<th class="three columns">Outcome:</th>';e+="</tr>";return e}}renderRow(e){if(this.renderRowFn){return this.renderRowFn(e)}else if(this.DataTableColumns){return this.DataTableColumns.renderRowColumns(e)}else{var t="<tr>";t+='<td class="one column" '+this.parent.getHTMLDateTitleAttribute(e)+">"+moment(e["Date"],"YYYY-MM-DD").fromNow()+"</td>";t+='<td class="one column">'+e["Team"]+"</td>";t+='<td class="two columns"><a href="Player.html#'+e["Name"]+'">'+e["Name"]+"</a></td>";t+='<td class="one column"><a href="CrimeCategory.html#'+e["Crime_category"]+'">'+e["Crime_category"]+"</a></td>";t+='<td class="four columns">'+e["Description"]+"</td>";t+='<td class="three columns">'+e["Outcome"]+"</td>";t+="</tr>";return t}}setDataFilterFn(e){this.displayDataFilterFn=e}setRenderRowHeaderFn(e){this.renderRowHeaderFn=e}setRenderRowFn(e){this.renderRowFn=e}setRenderCardFn(e){this.renderCardFn=e}setDataCallbackFn(e){this.displayDataCallbackFn=e}setColumns(e){if(this.getOptionExists("columns")||e){var t=e||this.getOption("columns");this.DataTableColumns=new DataTableColumns(this,t,{columns:t})}}}class DataTableColumns extends Module{constructor(e,t,i){super("DataTableColumn",e,t,i||{columns:[{column_id:0,column_title:"Column Name",column_data:"col",column_classes:"",column_width:2}]})}convertIntToWord(e){var t="zero one two three four five six seven eight nine ten eleven twelve".split(" ");if(e<=12&&e>0){return t[e]}else{return t[1]}}renderColumnAttributes(e){return this.renderColumnAttributeClass(e)}renderColumnAttributeClass(e){var t="";if(e.hasOwnProperty("column_width")||e.hasOwnProperty("column_classes")){t+=' class="';if(e.hasOwnProperty("column_width")){var i=parseInt(e["column_width"]);if(i>0&&i<=12){t+=this.convertIntToWord(i);t+=" column";if(i>1){t+="s"}}else{t+="one column"}}else{t+="one column"}if(e.hasOwnProperty("column_classes")){t+=" "+e["column_classes"]}t+='"'}return t}renderRowColumns(e){var t=!(e=="header"||e==["header"]||e=={header:true});var i=t?"td":"th";var s=this.getOption("columns");var r="<tr>";for(var n=0;n<s.length;n++){var a=s[n];r+="<"+i+this.renderColumnAttributes(a)+">";if(t){r+=a.hasOwnProperty("column_display_fn")?a.column_display_fn(e):e[a.column_data]}else{r+=a.column_title}r+="</"+i+">"}r+="</tr>";return r}}class ArrestCard extends Module{constructor(e,t,i){super("ArrestCard",e,t,i||{showName:false,momentDate:false,standalone:false});this.options.momentDate=this.getData()["DaysSince"]>99;this.dimensions={};this.addDimensions()}validateDataFormat(e){if(!e.hasOwnProperty("Team_preffered_name")){throw"error: incorrect row definition";return false}else{return true}}addDimensions(){this.dimensions["Team"]={dimension_id:0,dimension_name:"Team",data_column:"Team",color:"Team_hex_color",url:"Team.html",display:"Team_preffered_name",color2:"Team_hex_alt_color",useColor2:true};this.dimensions["Player"]={dimension_id:2,dimension_name:"Player",data_column:"Name",color:"Team_hex_color",url:"Player.html",display:"Name",color2:"Team_hex_alt_color",useColor2:true};this.dimensions["Position"]={dimension_id:3,dimension_name:"Position",data_column:"Position",color:"Team_hex_color",url:"Position.html",display:"Position_name",color2:"Team_hex_alt_color",useColor2:true};this.dimensions["Crime"]={dimension_id:1,dimension_name:"Crime",data_column:"Category",color:"Crime_category_color",url:"Crime.html",display:"Category"};this.dimensions["CrimeCategory"]={dimension_id:4,dimension_name:"Crime Category",data_column:"Crime_category",color:"Crime_category_color",url:"CrimeCategory.html",display:"Crime_category"};this.Dimension_Team=this.dimensions["Team"];this.Dimension_Player=this.dimensions["Player"];this.Dimension_Position=this.dimensions["Position"];this.Dimension_Crime=this.dimensions["Crime"];this.Dimension_Crime_Category=this.dimensions["CrimeCategory"]}getHTML(e,t,i,s){var e=e||this.dimensions["Crime"];var t=t||this.dimensions["Team"];var s=s||{};var r=i||{};var n=this.getData();var a=this.options.showName?' style="display:inline-block; visibility:visible;"':"";var o=this.options.momentDate?moment(n["Date"],"YYYY-MM-DD").fromNow():n["DaysSince"]+" days ago";var l=t.useColor2?'style="color:#'+n[t.color2]+';"':"";var _=this.options.standalone?" standalone_card":"";var c='<a href="'+r.url+"#"+n[r.data_column]+'">'+n[r.display]+"</a>";var h=['<div class="card arrest_card '+_+'">'];h.push('<span class="date_item" title="'+n["Date"]+'">'+o+"</span>");if(r.hasOwnProperty("data_column")>0){h.push('<span class="bottom_right_item">'+c+"</span>")}h.push('<span class="name_item"'+a+'><a href="Player.html#'+n["Name"]+'">'+n["Name"]+"</a> </span>");h.push("<br />");h.push('<span class="crime_item" style="background-color:#'+n[e.color]+'">');h.push('<a href="'+e.url+"#"+n[e.data_column]+'">'+n[e.display]+"</a> </span>");h.push('<span class="team_item '+n[t.data_column]+'" style="background-color:#'+n[t.color]+';">');h.push('<a href="'+t.url+"#"+n[t.data_column]+'" '+l+" >"+n[t.display]+"</a></span>");if(s.hasOwnProperty("data_column")){h.push('<br /><span class="arrest_card_detail_links">'+s.dimension_name+': <a href="'+s.url+"#"+n[s.data_column]+'">'+n[s.data_column]+"</a></span>")}h.push("<br />");h.push('<span class="description_item">'+n["Description"]+"</span>");h.push('<span class="outcome_item">'+n["Outcome"]+"</span>");h.push("</div>");var u=h.join("");return u}}class StyleSheetManager{constructor(){this.stylesheets=["css/styles.min.css","css/vendor/normalize.min.css","css/vendor/select2.min.css","css/vendor/jquery.multi-select.css","css/vendor/skeleton.min.css","css/vendor/c3.css","css/vendor/jquery-ui.min.css","css/vendor/jquery.comiseo.daterangepicker.css"];this.loadStylesheets()}loadCSS(r){(function(e,t){var i=e.createElement(t),s=e.getElementsByTagName(t)[0];i.href=r;i.rel="stylesheet";s.parentNode.insertBefore(i,s)})(document,"LINK");return true}loadStylesheets(e){var t=e||(this.stylesheets||[]);var i=true;for(var s=0;s<t.length;s++){i=this.loadCSS(t[s])}return i}}var StyleSheetManagerInstance=new StyleSheetManager;var DATA_MODEL_VWARRESTSWEB_CATEGORY_VALUES_ARRAY=[{COLUMN_NAME:"category",COLUMN_VALUE:"Alcohol",COLUMN_DISPLAY_VALUE:"Alcohol"},{COLUMN_NAME:"category",COLUMN_VALUE:"Alcohol, assault",COLUMN_DISPLAY_VALUE:"Alcohol, assault"},{COLUMN_NAME:"category",COLUMN_VALUE:"Alcohol, disorderly condu",COLUMN_DISPLAY_VALUE:"Alcohol, disorderly condu"},{COLUMN_NAME:"category",COLUMN_VALUE:"Alcohol, resisting arrest",COLUMN_DISPLAY_VALUE:"Alcohol, resisting arrest"},{COLUMN_NAME:"category",COLUMN_VALUE:"Animal abuse",COLUMN_DISPLAY_VALUE:"Animal abuse"},{COLUMN_NAME:"category",COLUMN_VALUE:"Animal cruelty",COLUMN_DISPLAY_VALUE:"Animal cruelty"},{COLUMN_NAME:"category",COLUMN_VALUE:"Animal cruelty, drugs",COLUMN_DISPLAY_VALUE:"Animal cruelty, drugs"},{COLUMN_NAME:"category",COLUMN_VALUE:"Animal neglect",COLUMN_DISPLAY_VALUE:"Animal neglect"},{COLUMN_NAME:"category",COLUMN_VALUE:"Armed robbery",COLUMN_DISPLAY_VALUE:"Armed robbery"},{COLUMN_NAME:"category",COLUMN_VALUE:"Assasult",COLUMN_DISPLAY_VALUE:"Assasult"},{COLUMN_NAME:"category",COLUMN_VALUE:"Assault",COLUMN_DISPLAY_VALUE:"Assault"},{COLUMN_NAME:"category",COLUMN_VALUE:"Assault, alcohol",COLUMN_DISPLAY_VALUE:"Assault, alcohol"},{COLUMN_NAME:"category",COLUMN_VALUE:"Assault, gun",COLUMN_DISPLAY_VALUE:"Assault, gun"},{COLUMN_NAME:"category",COLUMN_VALUE:"Attempted murder",COLUMN_DISPLAY_VALUE:"Attempted murder"},{COLUMN_NAME:"category",COLUMN_VALUE:"Battery",COLUMN_DISPLAY_VALUE:"Battery"},{COLUMN_NAME:"category",COLUMN_VALUE:"Battery, alcohol",COLUMN_DISPLAY_VALUE:"Battery, alcohol"},{COLUMN_NAME:"category",COLUMN_VALUE:"Battery, resisting arrres",COLUMN_DISPLAY_VALUE:"Battery, resisting arrres"},{COLUMN_NAME:"category",COLUMN_VALUE:"Breach of peace",COLUMN_DISPLAY_VALUE:"Breach of peace"},{COLUMN_NAME:"category",COLUMN_VALUE:"Burglary",COLUMN_DISPLAY_VALUE:"Burglary"},{COLUMN_NAME:"category",COLUMN_VALUE:"Burglary, assault",COLUMN_DISPLAY_VALUE:"Burglary, assault"},{COLUMN_NAME:"category",COLUMN_VALUE:"Burglary, battery",COLUMN_DISPLAY_VALUE:"Burglary, battery"},{COLUMN_NAME:"category",COLUMN_VALUE:"Burglary, gun",COLUMN_DISPLAY_VALUE:"Burglary, gun"},{COLUMN_NAME:"category",COLUMN_VALUE:"Child abuse",COLUMN_DISPLAY_VALUE:"Child abuse"},{COLUMN_NAME:"category",COLUMN_VALUE:"Child support",COLUMN_DISPLAY_VALUE:"Child support"},{COLUMN_NAME:"category",COLUMN_VALUE:"Coercion, gun",COLUMN_DISPLAY_VALUE:"Coercion, gun"},{COLUMN_NAME:"category",COLUMN_VALUE:"Criminal mischief",COLUMN_DISPLAY_VALUE:"Criminal mischief"},{COLUMN_NAME:"category",COLUMN_VALUE:"Destroying property",COLUMN_DISPLAY_VALUE:"Destroying property"},{COLUMN_NAME:"category",COLUMN_VALUE:"Disorderly conduct",COLUMN_DISPLAY_VALUE:"Disorderly conduct"},{COLUMN_NAME:"category",COLUMN_VALUE:"Disorderly conduct, alcoh",COLUMN_DISPLAY_VALUE:"Disorderly conduct, alcoh"},{COLUMN_NAME:"category",COLUMN_VALUE:"Disorderly conduct, sex",COLUMN_DISPLAY_VALUE:"Disorderly conduct, sex"},{COLUMN_NAME:"category",COLUMN_VALUE:"Disturbing the peace",COLUMN_DISPLAY_VALUE:"Disturbing the peace"},{COLUMN_NAME:"category",COLUMN_VALUE:"Dogfighting",COLUMN_DISPLAY_VALUE:"Dogfighting"},{COLUMN_NAME:"category",COLUMN_VALUE:"Domestic",COLUMN_DISPLAY_VALUE:"Domestic"},{COLUMN_NAME:"category",COLUMN_VALUE:"Domestic assault",COLUMN_DISPLAY_VALUE:"Domestic assault"},{COLUMN_NAME:"category",COLUMN_VALUE:"Domestic Battery",COLUMN_DISPLAY_VALUE:"Domestic Battery"},{COLUMN_NAME:"category",COLUMN_VALUE:"Domestic dispute",COLUMN_DISPLAY_VALUE:"Domestic dispute"},{COLUMN_NAME:"category",COLUMN_VALUE:"Domestic violence",COLUMN_DISPLAY_VALUE:"Domestic violence"},{COLUMN_NAME:"category",COLUMN_VALUE:"Domestic violence, alcoho",COLUMN_DISPLAY_VALUE:"Domestic violence, alcoho"},{COLUMN_NAME:"category",COLUMN_VALUE:"Domestic violence, gun",COLUMN_DISPLAY_VALUE:"Domestic violence, gun"},{COLUMN_NAME:"category",COLUMN_VALUE:"Domestic violence, rape",COLUMN_DISPLAY_VALUE:"Domestic violence, rape"},{COLUMN_NAME:"category",COLUMN_VALUE:"Drugs",COLUMN_DISPLAY_VALUE:"Drugs"},{COLUMN_NAME:"category",COLUMN_VALUE:"Drugs, gun",COLUMN_DISPLAY_VALUE:"Drugs, gun"},{COLUMN_NAME:"category",COLUMN_VALUE:"Drugs, license",COLUMN_DISPLAY_VALUE:"Drugs, license"},{COLUMN_NAME:"category",COLUMN_VALUE:"Drugs, reckless driving",COLUMN_DISPLAY_VALUE:"Drugs, reckless driving"},{COLUMN_NAME:"category",COLUMN_VALUE:"Drugs, resisting arrest",COLUMN_DISPLAY_VALUE:"Drugs, resisting arrest"},{COLUMN_NAME:"category",COLUMN_VALUE:"DUI",COLUMN_DISPLAY_VALUE:"DUI"},{COLUMN_NAME:"category",COLUMN_VALUE:"DUI, assault",COLUMN_DISPLAY_VALUE:"DUI, assault"},{COLUMN_NAME:"category",COLUMN_VALUE:"DUI, drugs",COLUMN_DISPLAY_VALUE:"DUI, drugs"},{COLUMN_NAME:"category",COLUMN_VALUE:"DUI, drugs, gun",COLUMN_DISPLAY_VALUE:"DUI, drugs, gun"},{COLUMN_NAME:"category",COLUMN_VALUE:"DUI, gun",COLUMN_DISPLAY_VALUE:"DUI, gun"},{COLUMN_NAME:"category",COLUMN_VALUE:"DUI, manslaughter",COLUMN_DISPLAY_VALUE:"DUI, manslaughter"},{COLUMN_NAME:"category",COLUMN_VALUE:"DUI, resisting arrest",COLUMN_DISPLAY_VALUE:"DUI, resisting arrest"},{COLUMN_NAME:"category",COLUMN_VALUE:"DUI,drugs",COLUMN_DISPLAY_VALUE:"DUI,drugs"},{COLUMN_NAME:"category",COLUMN_VALUE:"Eluding police",COLUMN_DISPLAY_VALUE:"Eluding police"},{COLUMN_NAME:"category",COLUMN_VALUE:"Evading arrest",COLUMN_DISPLAY_VALUE:"Evading arrest"},{COLUMN_NAME:"category",COLUMN_VALUE:"Evading police",COLUMN_DISPLAY_VALUE:"Evading police"},{COLUMN_NAME:"category",COLUMN_VALUE:"Evading police, drugs",COLUMN_DISPLAY_VALUE:"Evading police, drugs"},{COLUMN_NAME:"category",COLUMN_VALUE:"Failure to appear",COLUMN_DISPLAY_VALUE:"Failure to appear"},{COLUMN_NAME:"category",COLUMN_VALUE:"Failure to appear, gun",COLUMN_DISPLAY_VALUE:"Failure to appear, gun"},{COLUMN_NAME:"category",COLUMN_VALUE:"False information",COLUMN_DISPLAY_VALUE:"False information"},{COLUMN_NAME:"category",COLUMN_VALUE:"False name",COLUMN_DISPLAY_VALUE:"False name"},{COLUMN_NAME:"category",COLUMN_VALUE:"Fraud",COLUMN_DISPLAY_VALUE:"Fraud"},{COLUMN_NAME:"category",COLUMN_VALUE:"Gambling, gun",COLUMN_DISPLAY_VALUE:"Gambling, gun"},{COLUMN_NAME:"category",COLUMN_VALUE:"Gun",COLUMN_DISPLAY_VALUE:"Gun"},{COLUMN_NAME:"category",COLUMN_VALUE:"Gun, assault",COLUMN_DISPLAY_VALUE:"Gun, assault"},{COLUMN_NAME:"category",COLUMN_VALUE:"Gun, drugs",COLUMN_DISPLAY_VALUE:"Gun, drugs"},{COLUMN_NAME:"category",COLUMN_VALUE:"Gun, privacy invasion",COLUMN_DISPLAY_VALUE:"Gun, privacy invasion"},{COLUMN_NAME:"category",COLUMN_VALUE:"Gun, stolen possession",COLUMN_DISPLAY_VALUE:"Gun, stolen possession"},{COLUMN_NAME:"category",COLUMN_VALUE:"Gun, Traffic",COLUMN_DISPLAY_VALUE:"Gun, Traffic"},{COLUMN_NAME:"category",COLUMN_VALUE:"Guns",COLUMN_DISPLAY_VALUE:"Guns"},{COLUMN_NAME:"category",COLUMN_VALUE:"Guns, drugs",COLUMN_DISPLAY_VALUE:"Guns, drugs"},{COLUMN_NAME:"category",COLUMN_VALUE:"Guns, drugs, reckless dri",COLUMN_DISPLAY_VALUE:"Guns, drugs, reckless dri"},{COLUMN_NAME:"category",COLUMN_VALUE:"Handicap parking",COLUMN_DISPLAY_VALUE:"Handicap parking"},{COLUMN_NAME:"category",COLUMN_VALUE:"Harassment",COLUMN_DISPLAY_VALUE:"Harassment"},{COLUMN_NAME:"category",COLUMN_VALUE:"Hit and Run",COLUMN_DISPLAY_VALUE:"Hit and Run"},{COLUMN_NAME:"category",COLUMN_VALUE:"Hit-and-run",COLUMN_DISPLAY_VALUE:"Hit-and-run"},{COLUMN_NAME:"category",COLUMN_VALUE:"Indecency with child",COLUMN_DISPLAY_VALUE:"Indecency with child"},{COLUMN_NAME:"category",COLUMN_VALUE:"Indecent exposure",COLUMN_DISPLAY_VALUE:"Indecent exposure"},{COLUMN_NAME:"category",COLUMN_VALUE:"Injury to elderly",COLUMN_DISPLAY_VALUE:"Injury to elderly"},{COLUMN_NAME:"category",COLUMN_VALUE:"Insider trading",COLUMN_DISPLAY_VALUE:"Insider trading"},{COLUMN_NAME:"category",COLUMN_VALUE:"Interfering with police",COLUMN_DISPLAY_VALUE:"Interfering with police"},{COLUMN_NAME:"category",COLUMN_VALUE:"Involuntary Manslaughter",COLUMN_DISPLAY_VALUE:"Involuntary Manslaughter"},{COLUMN_NAME:"category",COLUMN_VALUE:"Leaving scene.",COLUMN_DISPLAY_VALUE:"Leaving scene."},{COLUMN_NAME:"category",COLUMN_VALUE:"License",COLUMN_DISPLAY_VALUE:"License"},{COLUMN_NAME:"category",COLUMN_VALUE:"License, guns",COLUMN_DISPLAY_VALUE:"License, guns"},{COLUMN_NAME:"category",COLUMN_VALUE:"Manslaughter",COLUMN_DISPLAY_VALUE:"Manslaughter"},{COLUMN_NAME:"category",COLUMN_VALUE:"Manslaughter, child abuse",COLUMN_DISPLAY_VALUE:"Manslaughter, child abuse"},{COLUMN_NAME:"category",COLUMN_VALUE:"Murder",COLUMN_DISPLAY_VALUE:"Murder"},{COLUMN_NAME:"category",COLUMN_VALUE:"Murder, gun",COLUMN_DISPLAY_VALUE:"Murder, gun"},{COLUMN_NAME:"category",COLUMN_VALUE:"Obstruction",COLUMN_DISPLAY_VALUE:"Obstruction"},{COLUMN_NAME:"category",COLUMN_VALUE:"Outstanding warrant",COLUMN_DISPLAY_VALUE:"Outstanding warrant"},{COLUMN_NAME:"category",COLUMN_VALUE:"Pimping",COLUMN_DISPLAY_VALUE:"Pimping"},{COLUMN_NAME:"category",COLUMN_VALUE:"Police interference",COLUMN_DISPLAY_VALUE:"Police interference"},{COLUMN_NAME:"category",COLUMN_VALUE:"Probation violation",COLUMN_DISPLAY_VALUE:"Probation violation"},{COLUMN_NAME:"category",COLUMN_VALUE:"Property destruction",COLUMN_DISPLAY_VALUE:"Property destruction"},{COLUMN_NAME:"category",COLUMN_VALUE:"Public intoxication",COLUMN_DISPLAY_VALUE:"Public intoxication"},{COLUMN_NAME:"category",COLUMN_VALUE:"Public urination",COLUMN_DISPLAY_VALUE:"Public urination"},{COLUMN_NAME:"category",COLUMN_VALUE:"Reckless driving",COLUMN_DISPLAY_VALUE:"Reckless driving"},{COLUMN_NAME:"category",COLUMN_VALUE:"Reckless driving, drugs",COLUMN_DISPLAY_VALUE:"Reckless driving, drugs"},{COLUMN_NAME:"category",COLUMN_VALUE:"Reckless driving, weapon",COLUMN_DISPLAY_VALUE:"Reckless driving, weapon"},{COLUMN_NAME:"category",COLUMN_VALUE:"Reckless endangerment",COLUMN_DISPLAY_VALUE:"Reckless endangerment"},{COLUMN_NAME:"category",COLUMN_VALUE:"Resisting arrest",COLUMN_DISPLAY_VALUE:"Resisting arrest"},{COLUMN_NAME:"category",COLUMN_VALUE:"Resisting officer",COLUMN_DISPLAY_VALUE:"Resisting officer"},{COLUMN_NAME:"category",COLUMN_VALUE:"Robbery",COLUMN_DISPLAY_VALUE:"Robbery"},{COLUMN_NAME:"category",COLUMN_VALUE:"Sex",COLUMN_DISPLAY_VALUE:"Sex"},{COLUMN_NAME:"category",COLUMN_VALUE:"Sexual assault",COLUMN_DISPLAY_VALUE:"Sexual assault"},{COLUMN_NAME:"category",COLUMN_VALUE:"Sexual battery",COLUMN_DISPLAY_VALUE:"Sexual battery"},{COLUMN_NAME:"category",COLUMN_VALUE:"Solicitation",COLUMN_DISPLAY_VALUE:"Solicitation"},{COLUMN_NAME:"category",COLUMN_VALUE:"Stalking",COLUMN_DISPLAY_VALUE:"Stalking"},{COLUMN_NAME:"category",COLUMN_VALUE:"Suspended license",COLUMN_DISPLAY_VALUE:"Suspended license"},{COLUMN_NAME:"category",COLUMN_VALUE:"Theft",COLUMN_DISPLAY_VALUE:"Theft"},{COLUMN_NAME:"category",COLUMN_VALUE:"Theft, drugs",COLUMN_DISPLAY_VALUE:"Theft, drugs"},{COLUMN_NAME:"category",COLUMN_VALUE:"Theft, gun",COLUMN_DISPLAY_VALUE:"Theft, gun"},{COLUMN_NAME:"category",COLUMN_VALUE:"Threat",COLUMN_DISPLAY_VALUE:"Threat"},{COLUMN_NAME:"category",COLUMN_VALUE:"Traffic warrant",COLUMN_DISPLAY_VALUE:"Traffic warrant"},{COLUMN_NAME:"category",COLUMN_VALUE:"Traffic warrants",COLUMN_DISPLAY_VALUE:"Traffic warrants"},{COLUMN_NAME:"category",COLUMN_VALUE:"Trespassing",COLUMN_DISPLAY_VALUE:"Trespassing"},{COLUMN_NAME:"category",COLUMN_VALUE:"Vandalism",COLUMN_DISPLAY_VALUE:"Vandalism"},{COLUMN_NAME:"category",COLUMN_VALUE:"Violating court order",COLUMN_DISPLAY_VALUE:"Violating court order"},{COLUMN_NAME:"category",COLUMN_VALUE:"Weapon",COLUMN_DISPLAY_VALUE:"Weapon"}];var DATA_MODEL_VWARRESTSWEB_CRIME_CATEGORY_VALUES_ARRAY=[{COLUMN_NAME:"crime_category",COLUMN_VALUE:"Alcohol",COLUMN_DISPLAY_VALUE:"Alcohol"},{COLUMN_NAME:"crime_category",COLUMN_VALUE:"Animal Abuse",COLUMN_DISPLAY_VALUE:"Animal Abuse"},{COLUMN_NAME:"crime_category",COLUMN_VALUE:"Assault / Battery",COLUMN_DISPLAY_VALUE:"Assault / Battery"},{COLUMN_NAME:"crime_category",COLUMN_VALUE:"Disorderly conduct",COLUMN_DISPLAY_VALUE:"Disorderly conduct"},{COLUMN_NAME:"crime_category",COLUMN_VALUE:"Domestic Violence",COLUMN_DISPLAY_VALUE:"Domestic Violence"},{COLUMN_NAME:"crime_category",COLUMN_VALUE:"Drugs",COLUMN_DISPLAY_VALUE:"Drugs"},{COLUMN_NAME:"crime_category",COLUMN_VALUE:"DUI",COLUMN_DISPLAY_VALUE:"DUI"},{COLUMN_NAME:"crime_category",COLUMN_VALUE:"Gun",COLUMN_DISPLAY_VALUE:"Gun"},{COLUMN_NAME:"crime_category",COLUMN_VALUE:"License / Traffic",COLUMN_DISPLAY_VALUE:"License / Traffic"},{COLUMN_NAME:"crime_category",COLUMN_VALUE:"Murder / Manslaughter",COLUMN_DISPLAY_VALUE:"Murder / Manslaughter"},{COLUMN_NAME:"crime_category",COLUMN_VALUE:"Other",COLUMN_DISPLAY_VALUE:"Other"},{COLUMN_NAME:"crime_category",COLUMN_VALUE:"Resisting",COLUMN_DISPLAY_VALUE:"Resisting"},{COLUMN_NAME:"crime_category",COLUMN_VALUE:"Sex Crimes",COLUMN_DISPLAY_VALUE:"Sex Crimes"},{COLUMN_NAME:"crime_category",COLUMN_VALUE:"Theft",COLUMN_DISPLAY_VALUE:"Theft"}];var DATA_MODEL_VWARRESTSWEB_TEAM_VALUES_ARRAY=[{COLUMN_NAME:"Team",COLUMN_VALUE:"LV",COLUMN_DISPLAY_VALUE:"Las Vegas Raiders"},{COLUMN_NAME:"Team",COLUMN_VALUE:"DAL",COLUMN_DISPLAY_VALUE:"Dallas Cowboys"},{COLUMN_NAME:"Team",COLUMN_VALUE:"DEN",COLUMN_DISPLAY_VALUE:"Denver Broncos"},{COLUMN_NAME:"Team",COLUMN_VALUE:"NO",COLUMN_DISPLAY_VALUE:"New Orleans Saints"},{COLUMN_NAME:"Team",COLUMN_VALUE:"ATL",COLUMN_DISPLAY_VALUE:"Atlanta Falcons"},{COLUMN_NAME:"Team",COLUMN_VALUE:"CIN",COLUMN_DISPLAY_VALUE:"Cincinnati Bengals"},{COLUMN_NAME:"Team",COLUMN_VALUE:"PIT",COLUMN_DISPLAY_VALUE:"Pittsburgh Steelers"},{COLUMN_NAME:"Team",COLUMN_VALUE:"JAC",COLUMN_DISPLAY_VALUE:"Jacksonville Jaguars"},{COLUMN_NAME:"Team",COLUMN_VALUE:"TB",COLUMN_DISPLAY_VALUE:"Tampa Bay Buccaneers"},{COLUMN_NAME:"Team",COLUMN_VALUE:"WAS",COLUMN_DISPLAY_VALUE:"Washington Commanders"},{COLUMN_NAME:"Team",COLUMN_VALUE:"PHI",COLUMN_DISPLAY_VALUE:"Philadelphia Eagles"},{COLUMN_NAME:"Team",COLUMN_VALUE:"MIN",COLUMN_DISPLAY_VALUE:"Minnesota Vikings"},{COLUMN_NAME:"Team",COLUMN_VALUE:"SF",COLUMN_DISPLAY_VALUE:"San Francisco 49ers"},{COLUMN_NAME:"Team",COLUMN_VALUE:"NYJ",COLUMN_DISPLAY_VALUE:"New York Jets"},{COLUMN_NAME:"Team",COLUMN_VALUE:"ARI",COLUMN_DISPLAY_VALUE:"Arizona Cardinals"},{COLUMN_NAME:"Team",COLUMN_VALUE:"BUF",COLUMN_DISPLAY_VALUE:"Buffalo Bills"},{COLUMN_NAME:"Team",COLUMN_VALUE:"CLE",COLUMN_DISPLAY_VALUE:"Cleveland Browns"},{COLUMN_NAME:"Team",COLUMN_VALUE:"KC",COLUMN_DISPLAY_VALUE:"Kansas City Chiefs"},{COLUMN_NAME:"Team",COLUMN_VALUE:"NE",COLUMN_DISPLAY_VALUE:"New England Patriots"},{COLUMN_NAME:"Team",COLUMN_VALUE:"CHI",COLUMN_DISPLAY_VALUE:"Chicago Bears"},{COLUMN_NAME:"Team",COLUMN_VALUE:"CAR",COLUMN_DISPLAY_VALUE:"Carolina Panthers"},{COLUMN_NAME:"Team",COLUMN_VALUE:"LAC",COLUMN_DISPLAY_VALUE:"Los Angeles Chargers"},{COLUMN_NAME:"Team",COLUMN_VALUE:"IND",COLUMN_DISPLAY_VALUE:"Indianapolis Colts"},{COLUMN_NAME:"Team",COLUMN_VALUE:"MIA",COLUMN_DISPLAY_VALUE:"Miami Dolphins"},{COLUMN_NAME:"Team",COLUMN_VALUE:"HOU",COLUMN_DISPLAY_VALUE:"Houston Texans"},{COLUMN_NAME:"Team",COLUMN_VALUE:"BAL",COLUMN_DISPLAY_VALUE:"Baltimore Ravens"},{COLUMN_NAME:"Team",COLUMN_VALUE:"DET",COLUMN_DISPLAY_VALUE:"Detroit Lions"},{COLUMN_NAME:"Team",COLUMN_VALUE:"TEN",COLUMN_DISPLAY_VALUE:"Tennessee Titans"},{COLUMN_NAME:"Team",COLUMN_VALUE:"LA",COLUMN_DISPLAY_VALUE:"Los Angeles Rams"},{COLUMN_NAME:"Team",COLUMN_VALUE:"NYG",COLUMN_DISPLAY_VALUE:"New York Giants"},{COLUMN_NAME:"Team",COLUMN_VALUE:"SEA",COLUMN_DISPLAY_VALUE:"Seattle Seahawks"},{COLUMN_NAME:"Team",COLUMN_VALUE:"GB",COLUMN_DISPLAY_VALUE:"Green Bay Packers"}];var DATA_MODEL_VWARRESTSWEB_POSITION_VALUES_ARRAY=[{COLUMN_NAME:"position",COLUMN_VALUE:"WR",COLUMN_DISPLAY_VALUE:"Wide Receiver"},{COLUMN_NAME:"position",COLUMN_VALUE:"S",COLUMN_DISPLAY_VALUE:"Safety"},{COLUMN_NAME:"position",COLUMN_VALUE:"LB",COLUMN_DISPLAY_VALUE:"Linebacker"},{COLUMN_NAME:"position",COLUMN_VALUE:"OT",COLUMN_DISPLAY_VALUE:"Offensive Tackle"},{COLUMN_NAME:"position",COLUMN_VALUE:"RB",COLUMN_DISPLAY_VALUE:"Running Back"},{COLUMN_NAME:"position",COLUMN_VALUE:"DT",COLUMN_DISPLAY_VALUE:"Defensive Tackle"},{COLUMN_NAME:"position",COLUMN_VALUE:"QB",COLUMN_DISPLAY_VALUE:"Quarterback"},{COLUMN_NAME:"position",COLUMN_VALUE:"TE",COLUMN_DISPLAY_VALUE:"Tight End"},{COLUMN_NAME:"position",COLUMN_VALUE:"CB",COLUMN_DISPLAY_VALUE:"Cornerback"},{COLUMN_NAME:"position",COLUMN_VALUE:"FB",COLUMN_DISPLAY_VALUE:"Fullback"},{COLUMN_NAME:"position",COLUMN_VALUE:"K",COLUMN_DISPLAY_VALUE:"Kicker"},{COLUMN_NAME:"position",COLUMN_VALUE:"DE",COLUMN_DISPLAY_VALUE:"Defensive End"},{COLUMN_NAME:"position",COLUMN_VALUE:"OG",COLUMN_DISPLAY_VALUE:"Offensive Guard"},{COLUMN_NAME:"position",COLUMN_VALUE:"C",COLUMN_DISPLAY_VALUE:"Center"},{COLUMN_NAME:"position",COLUMN_VALUE:"P",COLUMN_DISPLAY_VALUE:"Punter"},{COLUMN_NAME:"position",COLUMN_VALUE:"DB",COLUMN_DISPLAY_VALUE:"Defensive Back"},{COLUMN_NAME:"position",COLUMN_VALUE:"DL",COLUMN_DISPLAY_VALUE:"Defensive Lineman"},{COLUMN_NAME:"position",COLUMN_VALUE:"DE/DT",COLUMN_DISPLAY_VALUE:"Defensive End / Tackle"},{COLUMN_NAME:"position",COLUMN_VALUE:"OL",COLUMN_DISPLAY_VALUE:"Offensive Lineman"}];var DATA_MODEL_VWARRESTSWEB_POSITION_TYPE_VALUES_ARRAY=[{COLUMN_NAME:"position_type",COLUMN_VALUE:"Offense",COLUMN_DISPLAY_VALUE:"Offense"},{COLUMN_NAME:"position_type",COLUMN_VALUE:"Defense",COLUMN_DISPLAY_VALUE:"Defense"},{COLUMN_NAME:"position_type",COLUMN_VALUE:"Special Teams",COLUMN_DISPLAY_VALUE:"Special Teams"}];var DATA_MODEL_VWARRESTSWEB_SEASON_VALUES_ARRAY=[{COLUMN_NAME:"Season",COLUMN_VALUE:2021,COLUMN_DISPLAY_VALUE:2021},{COLUMN_NAME:"Season",COLUMN_VALUE:2e3,COLUMN_DISPLAY_VALUE:2e3},{COLUMN_NAME:"Season",COLUMN_VALUE:2001,COLUMN_DISPLAY_VALUE:2001},{COLUMN_NAME:"Season",COLUMN_VALUE:2002,COLUMN_DISPLAY_VALUE:2002},{COLUMN_NAME:"Season",COLUMN_VALUE:2003,COLUMN_DISPLAY_VALUE:2003},{COLUMN_NAME:"Season",COLUMN_VALUE:2004,COLUMN_DISPLAY_VALUE:2004},{COLUMN_NAME:"Season",COLUMN_VALUE:2005,COLUMN_DISPLAY_VALUE:2005},{COLUMN_NAME:"Season",COLUMN_VALUE:2006,COLUMN_DISPLAY_VALUE:2006},{COLUMN_NAME:"Season",COLUMN_VALUE:2007,COLUMN_DISPLAY_VALUE:2007},{COLUMN_NAME:"Season",COLUMN_VALUE:2008,COLUMN_DISPLAY_VALUE:2008},{COLUMN_NAME:"Season",COLUMN_VALUE:2009,COLUMN_DISPLAY_VALUE:2009},{COLUMN_NAME:"Season",COLUMN_VALUE:2010,COLUMN_DISPLAY_VALUE:2010},{COLUMN_NAME:"Season",COLUMN_VALUE:2011,COLUMN_DISPLAY_VALUE:2011},{COLUMN_NAME:"Season",COLUMN_VALUE:2012,COLUMN_DISPLAY_VALUE:2012},{COLUMN_NAME:"Season",COLUMN_VALUE:2013,COLUMN_DISPLAY_VALUE:2013},{COLUMN_NAME:"Season",COLUMN_VALUE:2014,COLUMN_DISPLAY_VALUE:2014},{COLUMN_NAME:"Season",COLUMN_VALUE:2015,COLUMN_DISPLAY_VALUE:2015},{COLUMN_NAME:"Season",COLUMN_VALUE:2016,COLUMN_DISPLAY_VALUE:2016},{COLUMN_NAME:"Season",COLUMN_VALUE:2017,COLUMN_DISPLAY_VALUE:2017},{COLUMN_NAME:"Season",COLUMN_VALUE:2018,COLUMN_DISPLAY_VALUE:2018},{COLUMN_NAME:"Season",COLUMN_VALUE:2019,COLUMN_DISPLAY_VALUE:2019},{COLUMN_NAME:"Season",COLUMN_VALUE:2020,COLUMN_DISPLAY_VALUE:2020},{COLUMN_NAME:"Season",COLUMN_VALUE:2022,COLUMN_DISPLAY_VALUE:2022}];var DATA_MODEL_VWARRESTSWEB_ARRESTSEASONSTATE_VALUES_ARRAY=[{COLUMN_NAME:"ArrestSeasonState",COLUMN_VALUE:"In Season",COLUMN_DISPLAY_VALUE:"In Season"},{COLUMN_NAME:"ArrestSeasonState",COLUMN_VALUE:"Off Season",COLUMN_DISPLAY_VALUE:"Off Season"}];var DATA_MODEL_VWARRESTSWEB_TEAM_CONFERENCE_VALUES_ARRAY=[{COLUMN_NAME:"Team_Conference",COLUMN_VALUE:"AFC",COLUMN_DISPLAY_VALUE:"AFC"},{COLUMN_NAME:"Team_Conference",COLUMN_VALUE:"NFC",COLUMN_DISPLAY_VALUE:"NFC"}];var DATA_MODEL_VWARRESTSWEB_TEAM_CONFERENCE_DIVISION_VALUES_ARRAY=[{COLUMN_NAME:"Team_Conference_Division",COLUMN_VALUE:"AFC West",COLUMN_DISPLAY_VALUE:"AFC West"},{COLUMN_NAME:"Team_Conference_Division",COLUMN_VALUE:"NFC East",COLUMN_DISPLAY_VALUE:"NFC East"},{COLUMN_NAME:"Team_Conference_Division",COLUMN_VALUE:"NFC South",COLUMN_DISPLAY_VALUE:"NFC South"},{COLUMN_NAME:"Team_Conference_Division",COLUMN_VALUE:"AFC North",COLUMN_DISPLAY_VALUE:"AFC North"},{COLUMN_NAME:"Team_Conference_Division",COLUMN_VALUE:"AFC South",COLUMN_DISPLAY_VALUE:"AFC South"},{COLUMN_NAME:"Team_Conference_Division",COLUMN_VALUE:"NFC North",COLUMN_DISPLAY_VALUE:"NFC North"},{COLUMN_NAME:"Team_Conference_Division",COLUMN_VALUE:"NFC West",COLUMN_DISPLAY_VALUE:"NFC West"},{COLUMN_NAME:"Team_Conference_Division",COLUMN_VALUE:"AFC East",COLUMN_DISPLAY_VALUE:"AFC East"}];var DATA_MODEL_FRAMEWORK_MONTHS_VALUES_ARRAY=[{COLUMN_NAME:"months",COLUMN_VALUE:1,COLUMN_DISPLAY_VALUE:"January"},{COLUMN_NAME:"months",COLUMN_VALUE:2,COLUMN_DISPLAY_VALUE:"February"},{COLUMN_NAME:"months",COLUMN_VALUE:3,COLUMN_DISPLAY_VALUE:"March"},{COLUMN_NAME:"months",COLUMN_VALUE:4,COLUMN_DISPLAY_VALUE:"April"},{COLUMN_NAME:"months",COLUMN_VALUE:5,COLUMN_DISPLAY_VALUE:"May"},{COLUMN_NAME:"months",COLUMN_VALUE:6,COLUMN_DISPLAY_VALUE:"June"},{COLUMN_NAME:"months",COLUMN_VALUE:7,COLUMN_DISPLAY_VALUE:"July"},{COLUMN_NAME:"months",COLUMN_VALUE:8,COLUMN_DISPLAY_VALUE:"August"},{COLUMN_NAME:"months",COLUMN_VALUE:9,COLUMN_DISPLAY_VALUE:"September"},{COLUMN_NAME:"months",COLUMN_VALUE:10,COLUMN_DISPLAY_VALUE:"October"},{COLUMN_NAME:"months",COLUMN_VALUE:11,COLUMN_DISPLAY_VALUE:"November"},{COLUMN_NAME:"months",COLUMN_VALUE:12,COLUMN_DISPLAY_VALUE:"December"}];var DATA_MODEL_FRAMEWORK_DAY_OF_WEEK_VALUES_ARRAY=[{COLUMN_NAME:"day_of_week",COLUMN_VALUE:1,COLUMN_DISPLAY_VALUE:"Monday"},{COLUMN_NAME:"day_of_week",COLUMN_VALUE:2,COLUMN_DISPLAY_VALUE:"Tuesday"},{COLUMN_NAME:"day_of_week",COLUMN_VALUE:3,COLUMN_DISPLAY_VALUE:"Wednesday"},{COLUMN_NAME:"day_of_week",COLUMN_VALUE:4,COLUMN_DISPLAY_VALUE:"Thursday"},{COLUMN_NAME:"day_of_week",COLUMN_VALUE:5,COLUMN_DISPLAY_VALUE:"Friday"},{COLUMN_NAME:"day_of_week",COLUMN_VALUE:6,COLUMN_DISPLAY_VALUE:"Saturday"},{COLUMN_NAME:"day_of_week",COLUMN_VALUE:7,COLUMN_DISPLAY_VALUE:"Sunday"}];var DATA_MODEL_FRAMEWORK_BOOLEAN_VALUES_ARRAY=[{COLUMN_NAME:"boolean",COLUMN_VALUE:0,COLUMN_DISPLAY_VALUE:"No"},{COLUMN_NAME:"boolean",COLUMN_VALUE:1,COLUMN_DISPLAY_VALUE:"Yes"}];var DATA_MODEL_FRAMEWORK_NULLABLE_BOOLEAN_VALUES_ARRAY=[{COLUMN_NAME:"boolean",COLUMN_VALUE:0,COLUMN_DISPLAY_VALUE:"No"},{COLUMN_NAME:"boolean",COLUMN_VALUE:1,COLUMN_DISPLAY_VALUE:"Yes"},{COLUMN_NAME:"boolean",COLUMN_VALUE:2,COLUMN_DISPLAY_VALUE:"Either"}];class ModuleContainer extends Module{constructor(e,t,i,s){super(e,t,i,s);this.setSubModules([])}addSubModule(e){return this.sub_modules.push(e)}setSubModules(e){this.sub_modules=e;return this.sub_modules}getSubModules(){return this.sub_modules}getSubModule(e){return this.sub_modules[e]}getSubModulesHTML(){var e="";for(var t=0;t<this.sub_modules.length;t++){e+=this.sub_modules[t].getHTML()}return e}getHTML(){return this.getSubModulesHTML()}}class DialogModuleContainer extends ModuleContainer{constructor(e,t,i,s){super(e,t,i,s)}show(){$(this.getOption("dialog_element_container")).show()}on(e,t,i){i=i||this.getOption("dialog_element");if(e&t){$(i).on(e,t)}}hide(){$(this.getOption("dialog_element_container")).hide()}setOptions(e){super.setOptions(e);this.options.dialog_element_container=e.dialog_element_container||"#module-dialog-container";this.options.dialog_element=e.dialog_element||"#module-dialog"}}class DataFilter extends Module{constructor(e,t){super("filters-control-filter",e,[],t)}setOptions(e){this.options=e||{};this.options.element=e.element||"#filter-untitled-input";this.options.type=e.type||{name:"undefined"};this.options.name=e.name||"untitledInput";this.options.required=e.required||false;this.options.multiple_select_enabled=e.multiple_select_enabled||true}getHTML(){var e='class="filter-section-item"';if(this.getOption("isHidden")){e+=' style="display:none;"'}return`<div ${e}>
                    <span>${this.getOptions().title}</span>
                    <div class="control-group">
                        ${this.getControlGroupHTML()}
                    </div>
                </div>`}getControlGroupHTML(){var e=this.getOption("type")||{};var t=this.getOption("filter_data_options")||[];var i=this.getOption("InputPlaceHolder")||"Choose...";var s=this.getOption("element")||"filters-UndefinedElement-input";s=this.util_removeHashChar(s);var r="";r+=this.getIncludeButtonHTML();if(e.name==="dateRangeController"){r+=this.getFilterDateRangeHTML()}else if(e.name==="select"){r+=this.getFilterSelect()}else if(e.name==="checkbox-group"){r+=this.getCheckBoxGroupHTML()}else if(e.name==="radio-group"){r+=this.getRadioGroupHTML()}else if(e.name==="checkbox"){r+=this.getCheckBoxSingleHTML()}return r}getFilterSelect(){var e=this.getOption("filter_data_options")||[];var t=this.getOption("type")||{};var i=this.getOption("InputPlaceHolder")||"Choose...";var s=this.getOption("element")||"filters-UndefinedElement-input";s=this.util_removeHashChar(s);var r=`<select `;if(this.getOption("multiple_select_enabled")){r+=`multiple class="filter-chosen-multi" `}r+=`data-placeholder="${i}" id="${s}">`;for(var n=0;n<e.length;n++){r+=this.getSelectOptionHTML(e[n])}r+=`</select>`;return r}getInputGroupHTML(e){var t=this.getOption("filter_data_options")||[];var i=`<div class="filter-radio-group"><fieldset>`;i+=`<legend>${this.getOption("title")}:</legend>`;if(t.length>0){for(var s=0;s<t.length;s++){i+=e(t[s])}}else{i+=`<span><b>Error:</b> No filter_data parameter values exist.</span>`}i+=`</fieldset></div>`;return i}getCheckBoxGroupHTML(){return this.getInputGroupHTML(e=>{return this.getCheckBoxHTML(e)})}getRadioGroupHTML(){return this.getInputGroupHTML(e=>{return this.getRadioHTML(e)})}getCheckBoxSingleHTML(){var e=this.getOption("filter_data_options")||[];var t=`<div class="filter-single-checkbox">`;if(e.length>=1){t+=this.getCheckBoxHTML(e[0]);if(e.length>1){console.log(`More than 1 filter_data parameter values exist. Do you want to use a CheckBoxGroup?`)}}else{t+=`<span><b>Error:</b> No filter_data parameter values exist.</span>`}t+=`</div>`;return t}getFilterDateRangeHTML(){var e=this.getOption("element")||"filters-UndefinedElement-input";e=this.util_removeHashChar(e);return`<div class=" dateRangeControl">
            <span class="title">Date Range:</span>
            <button id="${e}" name="dateRangeJquery"></button>
        </div>`}getSelectOptionHTML(e){var t="selected";if(e.hasOwnProperty("isSelected")){if(!e.isSelected){t=""}}var i=`<option value="${e.COLUMN_VALUE}" ${t}>
                            ${e.COLUMN_DISPLAY_VALUE}
                        </option>`;return i}getCheckBoxHTML(e){e=e||{element:"filter-UntitledCheckbox-input",title:"Untitled Checkbox"};e.element=e.element||"filter-UntitledCheckbox-input";e.title=e.title||"Untitled Checkbox";var t="checked";if(e.hasOwnProperty("isSelected")){if(!e.isSelected){t=""}}e.element=this.util_removeHashChar(e.element);return`<label for="${this.getOption("name")+e.COLUMN_VALUE}">${e.COLUMN_DISPLAY_VALUE}</label>
                <input type="checkbox" name="${this.getOption("name")+e.COLUMN_VALUE}" id="${this.getOption("name")+e.COLUMN_VALUE}" ${t}>`}getRadioHTML(e){e=e||{element:"filter-UntitledRadio-input",title:"Untitled Radio"};e.element=e.element||"filter-UntitledRadio-input";e.title=e.title||"Untitled Radio";e.element=this.util_removeHashChar(e.element);return`<label for="${this.getOption("name")+e.COLUMN_VALUE}">${e.COLUMN_DISPLAY_VALUE}</label>
                <input type="radio" name="${this.getOption("name")}" id="${this.getOption("name")+e.COLUMN_VALUE}">`}getIncludeButtonHTML(){return""}util_removeHashChar(e){if(e.charAt(0)==="#"){return e.substring(1)}else{return e}}}class DataFilterSection extends ModuleContainer{constructor(e,t){super("filters-control-section",e,[],t);if(this.getOptionExists("items")){this.setupSubModules()}}setOptions(e){this.options=e||{};this.options["title"]=e.title||"Untitled Filter Section";this.options["element"]=e.element||"#filter-untitled-section";this.options["items"]=e.items||[]}setupSubModules(){for(var e=0;e<this.getOptions().items.length;e++){var t=this.getOptions().items[e];this.addSubModule(new DataFilter(this,t))}}getHTML(){var e=this.getSubModulesHTML();var t=`<span>0/${this.getOptions().items.length}</span>`;var i=`<div id="${this.getOptions().element.substring(1)}" class="filter-section">
                                <div class="filter-section-title">
                                    ${this.getOptions().title}
                                    ${t}
                                </div>
                                <div class="filter-section-content">
                                    ${e}
                                </div>
                            </div>`;return i}}class DialogWindowColumn extends ModuleContainer{constructor(e,t,i){super("DialogWindowColumn",e,t,i);if(this.getOptionExists("sections")){this.setupSubModules()}}setOptions(e){this.options=e||{};this.options.element=e.element||"filter-column-untitled";this.options.wordColumnWidth=e.wordColumnWidth||"six"}setupSubModules(e){var t=e||this.getOption("sections")||[];for(var i=0;i<t.length;i++){this.addSubModule(new DataFilterSection(this,t[i]))}}getHTML(){var e=this.getOption("element")||"filter-column-untitled";var t=this.getOption("wordColumnWidth")||"six";var i=this.getOption("contents")||"<span><b>Error:</b> No Data Filter Column Contents supplied</span>";if(this.getSubModules().length>0){i=this.getSubModulesHTML()}if(e.charAt(0)==="#"){e=e.substring(1)}t=this.getWordColumnWidth(t);return`<div id="${e}" class="${t} columns filter-column">
                    ${i}
                </div>`}getWordColumnWidth(e){var e=e||"six";var t=["one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve"];if(t.indexOf(e.toLowerCase())<=-1){e="six"}return e}}class FiltersControl extends DialogModuleContainer{constructor(e,t,i){super("filters-control",e,t,i);this.parent.StyleManager.loadCSS("css/modules/styles-filters.css");this.filters_model=new FiltersModel;this.addSubModule(new DialogWindowColumn(this,[],{element:"filter-time-period-column",wordColumnWidth:"six",sections:[this.filters_model.filter_sections.date,this.filters_model.filter_sections.season]}));this.addSubModule(new DialogWindowColumn(this,[],{element:"filter-attribute-column",wordColumnWidth:"six",sections:[this.filters_model.filter_sections.team,this.filters_model.filter_sections.crime,this.filters_model.filter_sections.position]}));this.DateRangeFilterInstance=this.parent.DateRangeControl;this.first_open=true;this.setupEvents();this.hide()}show(){super.show();if(this.first_open){this.loadDialogContents();this.first_open=false}}loadDialogContents(){var e=this;var t=e.getOption("dialog_element_container");if(t.charAt(0)==="#"){t=t.substring(1)}if($("#"+t).length===0){$("body").append(`<div id="${t}"></div>`)}$("#"+t).html(e.getHTML());e.renderView();e.setupView()}setOptions(e){super.setOptions(e);this.options.hidden_panels=e.hidden_panels||[];this.options.presets=e.presets||{};this.options.date_range_object=e.date_range_object||{}}renderDataFilterOptions(){}renderView(){var e=this;this.countActiveFilters();for(var t in e.options.hidden_panels){var i=e.options.hidden_panels[t];switch(i){case"team":case"crime":case"position":case"player":$(e.filters_model.filter_sections[i]["element"]).hide();break}}this.renderActiveFilters()}getHTML(){return this.getFiltersHTML()}getFiltersHTML(){var e=this.getOption("filterTitle")||"Data Filters";var t=`<div class="row">
                            <div class="ten columns">
                                <h4>${e}</h4>
                            </div>
                            <button id="filters-close-button" class="one columns">X</button>
                        </div>`;var i=`<div class="row">
                                    <div class="twelve columns" id="filters-button-row">
                                        <button id="filters-apply-button" class="button-primary">Apply</button>
                                        <button id="filters-clear-button">Clear</button>
                                        <button id="filters-cancel-button">Cancel</button>
                                    </div>
                                </div>`;return`<div id="filter-dialog">
                    ${t}
                    <div class="row">
                        ${this.getSubModulesHTML()}
                    </div>
                    ${i}
                </div>`}setupView(){var i=this;this.setupUIEvents();this.setupFilterInput(function(e,t){i.onFilterChanged(i,e,t)})}setupEvents(){var t=this;$("#filters-open-button").click(()=>{t.show()});$("#filter-dialog-container").click(e=>{if(e.target.id=="filter-dialog-container"){t.hide()}})}setupFilterPresets(){for(var e in this.options.presets){var t=this.options.presets[e];for(var i in t){var s=t[i];switch(i){case"team":case"crime":case"position":case"player":this.options.hidden_panels.push(i);break}}}}setupFilterInput(e){var t=this;var i={icon:false};$(".filter-chosen-multi").multiSelect().change(e);$(".filter-radio-group input").checkboxradio(i).change(e);$("#dateRangeJquery").on("dateRangeChanged",e)}setupFilterTypeButton(){$(".filter-type-btn").click(function(){$(this).removeClass("filter-include filter-exclude");if($(this).html()==="Exclude"){$(this).html("Include");$(this).addClass("filter-include")}else{$(this).html("Exclude");$(this).addClass("filter-exclude")}})}setupUIEvents(){var e=this;$(".filter-section-title").click(function(){$(this).parent().children().eq(1).toggle()});$("#filters-close-button").click(function(){$(e.options.dialog_element).trigger("FilterDialogClosed");e.hide()});$("#filters-apply-button").click(function(){e.apply();$(e.options.dialog_element).trigger("FilterDialogChanged");$(window).trigger("hashchange");e.hide()});$("#filters-clear-button").click(function(){e.reset();$(e.options.dialog_element).trigger("FilterDialogReset")});$("#filters-cancel-button").click(function(){e.hide()})}apply(){var e=this.getFilterValues();for(var t in e){for(var i in e[t]){setCookieValue(i,e[t][i])}}}reset(){var e=this;for(var t in this.filters_model.filter_sections){if(!this.filters_model.filter_sections.hasOwnProperty(t))continue;var i=this.filters_model.filter_sections[t];var s=i["items"];for(var r in s){if(!s.hasOwnProperty(r))continue;var n=s[r];if(Array.isArray(n["type"].default_val)&&n["type"].hasOwnProperty("names")){var a=0;for(var o in n["type"].default_val){setCookieValue(n["type"]["names"][a],n["type"].default_val[a++])}}else{setCookieValue(r,n["type"].default_val)}}}e.loadDialogContents()}onFilterChanged(e,t,i){var s=t.currentTarget.getAttribute("id");var r=s.substring(s.indexOf("-")+1,s.length);var n=r.substring(0,r.lastIndexOf("-"));e.renderView()}renderActiveFilters(){var e=this;$("#filter-daterange-input").html(e.DateRangeFilterInstance.getStart()+"-"+e.DateRangeFilterInstance.getEnd());$("#filter-date-section .filter-section-title span").html(this.filters_model.filter_sections.date.active_count+"/4");$("#filter-season-section .filter-section-title span").html(this.filters_model.filter_sections.season.active_count+"/2");$("#filter-team-section .filter-section-title span").html(this.filters_model.filter_sections.team.active_count+"/3");$("#filter-crime-section .filter-section-title span").html(this.filters_model.filter_sections.crime.active_count+"/2");$("#filter-position-section .filter-section-title span").html(this.filters_model.filter_sections.position.active_count+"/2")}countActiveFilters(){var e=this;for(var t in this.filters_model.filter_sections){if(!this.filters_model.filter_sections.hasOwnProperty(t))continue;var i=this.filters_model.filter_sections[t];i["active_count"]=0;for(var s in i["items"]){if(!i["items"].hasOwnProperty(s))continue;var r=i["items"][s];if(r["type"].isActive(e,r)){i["active_count"]++}}}}getFilterValues(){var e=this;var t={};for(var i in this.filters_model.filter_sections){if(!this.filters_model.filter_sections.hasOwnProperty(i))continue;var s=this.filters_model.filter_sections[i];for(var r in s.items){var n=s.items[r];if(n.hasOwnProperty("type")){var a=n["type"].getValue(e,n);if(n["type"].isActive(e,n)){if(!t.hasOwnProperty(i)){t[i]={}}if(Array.isArray(a)&&n["type"].hasOwnProperty("names")&&Array.isArray(n["type"])&&a.length<=n["type"].length){var o=0;for(var l in a){t[i][n["type"]["names"][o]]=a[l];o++}}else if(n.hasOwnProperty("name")){t[i][n["name"]]=a}}}}}return t}getFilterFunction(){return e=>{}}getQueryString(){var e=this.getFilterValues();e=Object.assign(e,this.options.presets);var t=[];for(var i in e){for(var s in e[i]){if(Array.isArray(e[i][s])){for(var r in e[i][s]){t.push(s+"="+e[i][s][r])}}else{t.push(s+"="+e[i][s])}}}return t.join("&")}}class DetailPage extends DataDrivenWebPage{constructor(e,t,i,s){super(e);this.arrestsUrl=s||"empty url";i=i===undefined?false:i;this.pageID=this.Utilities.update_hash();this.pageTitle=e;this.chartOptions=t;this.tableOptions=i;this.callbackReturns=0;this.arrest_data_all=[];this.data_row_count=0;var r=this;this.FilterFunction=e=>{if(!this.data_controller.dateLimit(e,this.DateRangeControl.getStart(),this.DateRangeControl.getEnd())){return false}if(r.pageTitle=="Team"){if(e["Team"]!=r.pageID){return false}}else if(r.pageTitle=="Position"){if(e["Position"]!=r.pageID){return false}}else if(r.pageTitle=="Player"){if(e["Name"]!=r.pageID){return false}}else if(r.pageTitle=="Crime"){if(e["Category"]!=r.pageID){return false}}else if(r.pageTitle=="Crime Category"){if(e["Crime_category"]!=r.pageID){return false}}return true};this.StyleManager.loadCSS("css/modules/styles-detailpage.css");this.StyleManager.loadCSS("css/vendor/pagination.css");if(i){this.DataTable_ModuleID=this.addModule(new DataTable(this,[],i))}else{this.DataTable_ModuleID=this.addModule(new DataTable(this))}$(window).on("hashchange",()=>{this.renderView(this)});setTimeout(()=>{this.resizeCharts()},1e3);this.renderView(this)}checkLoadingFinished(){var e=1+this.chartOptions.length;if(++this.callbackReturns==e){this.callbackReturns=0;this.loadingFinished()}}renderView(e){super.renderView();e.pageID=this.Utilities.update_hash(e.pageID);e.changeTitle();e.setupCharts();e.resizeCharts();e.hideChartsIfRowCountLow()}hideChartsIfRowCountLow(){this.hideCharts(()=>{var e=this.arrest_view_mode==0?3:6;var t=this.getModule(this.DataTable_ModuleID).getData().length;return t<=e},"aside")}hideCharts(e,t){if(e()){$(t).hide()}}changeTitle(e,t,i){var s=t||this;i=i||"";document.title="NFL Arrest | "+e+" | List of Player Arrests";$("#pageTitle").html(s.pageTitle+": "+e+i)}resizeCharts(){for(var e=0;e<this.charts.length;e++){this.charts[e].chart.resize()}}setupCharts(){var i=this;for(var e in i.chartOptions){var t=i.chartOptions[e];i.getDonutData(t.url+i.pageID,t.field,e,(e,t)=>{i.charts.push(new DonutChart({data:e,targetElement:i.chartOptions[t].targetElement,chartTitle:i.chartOptions[t].title},i))})}}getDonutData(e,a,o,l){var _=this;var t=e=>{_.data_row_count+=e.length;var t=[];var i,s=0;var r=["Other",0];var n=12;for(i in e){if(++s<n){t.push([e[i][a],e[i]["arrest_count"]])}else{r[1]=parseInt(r[1])+parseInt(e[i]["arrest_count"])}}if(e.length>=n){t.push(r)}_.checkLoadingFinished();l(t,o)};_.data_controller.getDonutChart(a,this.FilterFunction,t)}}class DonutChart extends Chart{constructor(e,t){super(e,"donut",t);this.renderChart()}renderChart(){var e={bindto:this.options.targetElement,data:{columns:this.options.data,type:this.chartType},donut:{title:this.options.chartTitle},color:{pattern:this.defaultColorPattern}};this.chart=c3.generate(e)}}var timeSeriesChart={timeChart:undefined,options:{targetElement:"#theElementSelector",compareToBtn:"#btnSelector",initColumnID:"",data:{},isExpanded:false,showAccumulation:false,ajaxURL:"/api/"},init:function(e,t){$.extend(true,this.options,e);this.parent=t;var i=this;i.options.$targetElement=$(this.options.targetElement);i.options.$expandBtnElement=$(this.options.targetExpandBtn);timeSeriesChart.options.$expandBtnElement.off("click");timeSeriesChart.options.$expandBtnElement.click(function(){i.toggleExpand(i)});i.renderChart()},renderChart:function(){if($(document).width()<800){var e=20}else{var e=6}timeSeriesChart.timeChart=c3.generate({bindto:timeSeriesChart.options.targetElement,data:{x:"x",columns:[timeSeriesChart.getXDates(),timeSeriesChart.fillDates(timeSeriesChart.options.initColumnID,timeSeriesChart.options.data)]},axis:{x:{type:"timeseries",tick:{format:"%m/%y"}}},padding:{bottom:e},color:{pattern:["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF","#154F78","#B0580A","#248224","#7D1717"]}})},buildAjaxURL:function(e,t){t=t||{};var i={id:e,start_date:dateRangeController.getStart(),end_date:dateRangeController.getEnd()};$.extend(i,t);if(timeSeriesChart.options.ajaxURL.indexOf("?")<0){var s="?"}else{var s="&"}for(var r in i){s+=r+"="+i[r]+"&"}s=s.substring(0,s.length-1);return timeSeriesChart.options.ajaxURL+s},addColumn:function(s){this.parent.Utilities.googleTracking.sendTrackEvent("TimeChart","addCompare "+s);var e=timeSeriesChart.buildAjaxURL(s);$.getJSON(e,function(e){var t=timeSeriesChart.fillDates(s,e),i=t[0];timeSeriesChart.timeChart.load({columns:[t]})})},fillDates:function(e,t){e=e||"";t=t||[];t=t.reverse();var i=new Date(dateRangeController.getStart()),s=new Date(dateRangeController.getEnd()),r=(s.getFullYear()-i.getFullYear())*12+(s.getMonth()-i.getMonth())+1;var n=i.getFullYear(),a=i.getMonth()+1;var o,l=[e.toString()],_=0;var c=t.pop();for(o=r;o>0;o--){if(c!==undefined){a++;if(a>12){n++;a=a%12}if(c.Year==n.toString()&&c.Month==a.toString()){var h;if(timeSeriesChart.options.showAccumulation){_=_+parseInt(c.arrest_count);h=_}else{h=parseInt(c.arrest_count)}l.push(h);if(t.length>0){c=t.pop()}}else{var u;if(timeSeriesChart.options.showAccumulation){u=_}else{u=0}l.push(u)}}else{l.push(0)}}return l},getXDates:function(){var e=["x"];var t=new Date(dateRangeController.getStart()),i=new Date(dateRangeController.getEnd()),s=(i.getFullYear()-t.getFullYear())*12+(i.getMonth()-t.getMonth())+1;var r=t.getFullYear(),n=t.getMonth()+1;var a;for(a=s-1;a>0;a--){n++;if(n>12){r++;n=n%12}if(n<10){var o="0"+n}else{var o=n}e.push(r+"-"+o+"-01")}return e},toggleExpand:function(e){timeSeriesChart.options.$targetElement.toggleClass("expanded");timeSeriesChart.options.isExpanded=!timeSeriesChart.options.isExpanded;if(timeSeriesChart.options.isExpanded){timeSeriesChart.options.$expandBtnElement.html("Collapse")}else{timeSeriesChart.options.$expandBtnElement.html("Expand")}this.parent.Utilities.googleTracking.sendTrackEvent("mainChart","expand toggle");timeSeriesChart.renderChart()}};